{"version":3,"sources":["d.js","game/chat/toggle.js","game/chat/send.js","game/disconnect.js","game/menu/colorpicker/index.js","game/menu/index.js","game/events.js","game/chat/index.js","game/chat/receive.js","game/map/draw.js","game/start.js","game/map/index.js","game/index.js","serverbrowser/connect.js","serverbrowser/index.js","index.js"],"names":["d","intervals","socket","server","root","document","getElementById","chatButtonText","open","close","chatIsShown","style","display","toggleChat","shown","innerHTML","sendChat","chatInput","value","emit","disconnect","Events","unregister","removeAllListeners","clearInterval","colliding","draw","ReactDOM","render","ServerBrowser","ColorPicker","state","background","handleClick","setState","displayColorPicker","handleChangeComplete","color","hex","colors","onClick","this","width","disableAlpha","presetColors","onChangeComplete","React","Component","pause","unpause","reconnect","setTimeout","connect","PauseMenu","id","url","directions","keydown","e","activeElement","code","hasOwnProperty","preventDefault","keyup","focus","resize","c","documentElement","clientWidth","height","clientHeight","window","addEventListener","removeEventListener","Message","props","className","cx","cy","r","fill","player","children","Chat","messages","maxLength","send","receiveMessages","canvas","ctx","middleX","middleY","scale","pos","on","content","chatDiv","renderToString","lastMessage","length","scrollTopMax","scrollHeight","clientTop","scrollTop","mouseDown","zoom","event","scrollAmount","deltaY","zoomAmount","x","y","drag","movementX","movementY","drawDot","size","offset","fillRect","startGame","getContext","center","players","bodies","lastFrame","Date","now","distance","a","b","Math","abs","sqrt","body","xVel","yVel","bouncyness","mass","collided","delete","path","pathMax","pathColor","invincible","other","totalmass","myportion","otherportion","i","collide","f","xoff","yoff","toff","dirs","density","PI","push","strokeStyle","moveTo","cOffsetx","cOffsety","lineTo","stroke","splice","tcolor","replace","fillStyle","beginPath","arc","shipId","shadowBlur","nuke","fillText","register","setInterval","swarm","k","swarmSize","deg","off","temp","cos","centerx","sin","centery","vel","m","clearRect","me","isStar","tWidth","distanceX","distanceY","drawMap","currentFrame","round","myid","ms","kickMessage","alert","JSON","parse","foundCenter","Map","Game","requestPointerLock","mozRequestPointerLock","exitPointerLock","mozExitPointerLock","socketIOClient","secure","transports","io","opts","directConnect","address","startsWith","slice","servers","location","protocol","serverList","placeholder","onKeyUp","key"],"mappings":"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","file":"static/js/main.a6df8c02.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\n\nvar d = {\n    intervals: {},\n    socket: null,\n    server: null,\n    root: document.getElementById('root'),\n};\n\nexport default d;","const chatButtonText = {\n    open: \"+Chat\",\n    close: \"-Chat\",\n};\n\nfunction chatIsShown() {\n    return document.getElementById(\"chatBox\").style.display == \"block\";\n}\n\nfunction toggleChat() {\n    let shown = chatIsShown();\n    document.getElementById(\"chatBox\").style.display = (shown ? \"none\" : \"block\");\n    document.getElementById(\"openChatButtonText\").innerHTML = chatButtonText[(shown ? \"open\" : \"close\")]\n};\n\nexport {\n    toggleChat,\n    chatIsShown,\n    chatButtonText\n};","import d from '../../d';\n\nfunction sendChat() {\n    let chatInput = document.getElementById(\"chatInput\");\n    if (chatInput.value == \"\")\n        return;\n    d.socket.emit(\"sendMessage\", chatInput.value);\n    chatInput.value = \"\";\n}\n\nexport default sendChat;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ServerBrowser from '../serverbrowser';\nimport d from '../d';\nimport Events from './events';\n\nfunction disconnect() {\n    if (d.socket == null)\n        return;\n    Events.unregister();\n    d.socket.removeAllListeners();\n    d.socket.close();\n    d.socket = null;\n    clearInterval(d.intervals.colliding);\n    clearInterval(d.intervals.draw);\n    ReactDOM.render(ServerBrowser(), d.root);\n}\n\nexport default disconnect;","import React from 'react';\nimport { SketchPicker } from 'react-color';\nimport './index.css';\nimport d from '../../../d';\n\nclass ColorPicker extends React.Component {\n    state = {\n        background: '#000000',\n    };\n\n    handleClick = () => {\n        this.setState({ displayColorPicker: !this.state.displayColorPicker });\n    };\n\n    handleChangeComplete = (color, event = null) => {\n        d.socket.emit('changeColor', color.hex);\n    };\n\n    colors = [\n        \"#f44336\",\n        \"#e91e63\",\n        \"#9c27b0\",\n        \"#673ab7\",\n        \"#3f51b5\",\n        \"#2196f3\",\n        \"#03a9f4\",\n        \"#00bcd4\",\n        \"#009688\",\n        \"#4caf50\",\n    ];\n\n    render() {\n        return (\n            <div>\n                <button onClick={this.handleClick}>Toggle ship color picker</button>\n                {this.state.displayColorPicker ? <SketchPicker width=\"130px\" disableAlpha={true} presetColors={this.colors} onChangeComplete={this.handleChangeComplete} /> : null}\n            </div>\n        );\n    }\n}\n\nexport default ColorPicker;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport disconnect from '../disconnect';\nimport connect from '../../serverbrowser/connect';\nimport ColorPicker from './colorpicker/';\nimport d from '../../d'\n\nfunction pause() {\n    document.getElementById('pauseMenu').style.display = 'block';\n    document.getElementById('pauseButton').style.display = 'none';\n}\n\nfunction unpause() {\n    document.getElementById('pauseMenu').style.display = 'none';\n    document.getElementById('pauseButton').style.display = 'block';\n}\n\nfunction isPaused() {\n    return document.getElementById('pauseMenu').style.display == 'block';\n}\n\nfunction reconnect() {\n    unpause();\n    disconnect();\n    setTimeout(() => connect(d.server), 1);\n}\n\nfunction PauseMenu() {\n    return (\n        <div>\n            <button id=\"pauseButton\" onClick={pause} style={{display: \"block\"}} />\n            <div id=\"pauseMenu\" style={{display: \"none\"}}>\n                <center id=\"pauseMenuContents\">\n                    <button onClick={unpause}>Resume</button><br />\n                    <button onClick={reconnect}>New ship</button><br />\n                    <button onClick={disconnect}>Disconnect</button><br />\n                    <ColorPicker />\n                    <hr />\n                    <p>\n                        Server: {d.server.url}<br />\n                        Ping: <span id=\"ping\">(pinging...)</span>ms<br />\n                        FPS: <span id=\"FPSDisplay\">(waiting for frame...)</span>\n                    </p>\n                </center>\n            </div>\n        </div>\n    );\n}\n\nexport default PauseMenu;\n\nexport {\n    PauseMenu,\n    pause,\n    unpause,\n    isPaused,\n};","import d from '../d';\nimport { chatIsShown, toggleChat } from './chat/toggle';\nimport sendChat from './chat/send';\nimport { isPaused, pause, unpause } from './menu/';\n\nvar directions = {\n    \"ArrowUp\": 3,\n    \"ArrowRight\": 0,\n    \"ArrowDown\": 2,\n    \"ArrowLeft\": 1,\n}\n\nfunction keydown(e) {\n    if (document.activeElement.id == \"chatInput\")\n        return;\n    if (e.code == \"Space\") {\n        d.socket.emit(\"nuke\");\n    } else if (directions.hasOwnProperty(e.code)) {\n        e.preventDefault();\n        d.socket.emit(\"dir\", directions[e.code], true)\n    }\n}\n\nfunction keyup(e) {\n    switch (e.code) {\n        case \"KeyT\":\n            if (!chatIsShown())\n                toggleChat();\n            if (document.activeElement.id != \"chatInput\")\n                document.getElementById(\"chatInput\").focus();\n            break;\n        \n        case \"Enter\":\n            if (document.activeElement.id == \"chatInput\")\n                sendChat();\n            break;\n        \n        case \"Escape\":\n            if (document.activeElement.id == \"chatInput\" && chatIsShown())\n                toggleChat();\n            else\n                isPaused() ? unpause() : pause();\n            break;\n        \n        default:\n            if (directions.hasOwnProperty(e.code)) {\n                e.preventDefault();\n                d.socket.emit(\"dir\", directions[e.code], false)\n            }\n    }\n}\n        \nfunction resize(e) {\n    d.c.width = document.documentElement.clientWidth;\n    d.c.height = document.documentElement.clientHeight;\n}\n\nclass Events {\n    static register() {\n        window.addEventListener(\"keydown\", keydown);\n        window.addEventListener(\"keyup\", keyup);\n        resize();\n        window.addEventListener(\"resize\", resize);\n    }\n\n    static unregister() {\n        window.removeEventListener(\"keydown\", keydown);\n        window.removeEventListener(\"keyup\", keyup);\n        window.removeEventListener(\"resize\", resize);\n    }\n}\n\nexport default Events;","import React from 'react';\nimport './index.css';\nimport d from '../../d';\nimport { toggleChat, chatButtonText } from './toggle';\nimport send from './send';\n\nfunction Message(props) {\n    return(\n        <div className=\"chat-message\">\n            <svg className=\"player-icon\" height={16} width={16}>\n                <circle cx={8} cy={8} r={8} fill={props.player.color} />\n            </svg>\n            <span className=\"chat-message-text\">{props.children}</span>\n        </div>\n    );\n}\n\nclass Chat extends React.Component {\n    state = {\n        messages: [],\n    }\n\n    render() {\n        return (\n            <div id=\"chat\">\n                <button id=\"openChatButton\" onClick={toggleChat}>\n                    <span id=\"openChatButtonText\">{chatButtonText.open}</span>\n                    (<span id=\"messagesSentNum\">0</span>)\n                </button>\n                <div id=\"chatBox\">\n                    <div id=\"chatMessages\">\n                        {this.state.messages}\n                        {/*<Message player={{colour: \"#654321\"}}>\n                            whoaaa!!!\n                        </Message>\n                        <div className=\"chat-message\">\n                            <svg className=\"player-icon\" height={16} width={16}>\n                                <circle cx={8} cy={8} r={8} fill=\"#123456\" />\n                            </svg>\n                            <span className=\"chat-message-text\">hi im chatting lol</span>\n                        </div>\n                        <div className=\"chat-message\">\n                            <svg className=\"player-icon\" height={16} width={16}>\n                                <circle cx={8} cy={8} r={8} fill=\"#123456\" />\n                            </svg>\n                            <span className=\"chat-message-text\">hi im chatting lol</span>\n                        </div>\n                        <div className=\"chat-message\">\n                            <svg className=\"player-icon\" height={16} width={16}>\n                                <circle cx={8} cy={8} r={8} fill=\"#123456\" />\n                            </svg>\n                            <span className=\"chat-message-text\">hi im chatting lol</span>\n                        </div>*/}\n                    </div>\n                    <div id=\"sendChat\">\n                        <input id=\"chatInput\" maxLength={100} />\n                        <button onClick={send}>Send</button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Chat;\n\nexport {\n    Chat,\n    Message,\n};","import React from 'react';\nimport { renderToString } from 'react-dom/server';\nimport { Chat, Message } from './index';\nimport d from '../../d';\nimport { chatIsShown } from './toggle';\n\nfunction receiveMessages() {\n    d.socket.on(\"message\", (player, content) => {\n        let chatDiv = document.getElementById('chatMessages')\n        chatDiv.innerHTML += renderToString(\n            <Message player={player}>\n                {content}\n            </Message>\n        );\n        let children = document.getElementById('chatMessages').children;\n        let lastMessage = children[children.length - 1];\n        let scrollTopMax = chatDiv.scrollHeight - chatDiv.clientHeight - chatDiv.clientTop;\n        if (scrollTopMax - chatDiv.scrollTop < lastMessage.clientHeight + 5) {\n            chatDiv.scrollTop = scrollTopMax;\n        }\n        document.getElementById('messagesSentNum').innerHTML = children.length; //display the amount of messages sent on the open chat button\n    });\n}\n\nexport default receiveMessages;","const planetDisplayMin = 500;\nconst playerWidth = 4;\nconst selfWidth = 5;\nconst starWidth = 4;\n\nvar canvas, ctx, middleX, middleY, scale, pos;\n\nvar mouseDown = false;\n\n\nfunction getMapCanvas() {\n    canvas = document.getElementById('map');\n    ctx = canvas.getContext('2d');\n    canvas.requestPointerLock = canvas.requestPointerLock || canvas.mozRequestPointerLock;\n    document.exitPointerLock = document.exitPointerLock || document.mozExitPointerLock;\n    canvas.addEventListener('wheel', zoom);\n    canvas.addEventListener('mousemove', drag);\n    canvas.addEventListener('mousedown', () => {\n        mouseDown = true;\n        canvas.requestPointerLock();\n    });\n    canvas.addEventListener('mouseup', () => {\n        mouseDown = false;\n        document.exitPointerLock();\n    });\n    \n    middleX = canvas.width/2;\n    middleY = canvas.height/2;\n    scale = 100;\n    pos = {\n        x: 0,\n        y: 0\n    }\n}\n\nfunction zoom(event) {\n    let scrollAmount = 3;\n    if (event.deltaY < 0)\n        scrollAmount *= -1;\n    let zoomAmount = 1 + (scrollAmount / 100);\n    if (scale * zoomAmount > 0) {\n        scale *= zoomAmount;\n        pos.x /= zoomAmount;\n        pos.y /= zoomAmount;\n    }\n}\n\nfunction drag(event) {\n    if (mouseDown) {\n        pos.x += event.movementX;\n        pos.y += event.movementY;\n    }\n}\n\nfunction drawDot(x, y, size) {\n    let offset = size/2;\n    ctx.fillRect(x - offset + pos.x, y - offset + pos.y, size, size)\n\n}\n\nfunction drawMap(bodies, center) {\n    ctx.clearRect(0, 0, canvas.width, canvas.height); //clear the canvas\n    if (!bodies[center]) return; //skip drawing the map this frame if the client's ship can't be found\n    let me = bodies[center];\n\n    for (let body of bodies) {\n        let isStar = body.mass > planetDisplayMin;\n        if (isStar || body.shipId) {\n            ctx.fillStyle = body.color;\n            var tWidth = 0;\n            if(isStar){\n                tWidth = (body.size/10) * (100/scale);\n            }\n            let distanceX = (body.x - me.x) / scale;\n            let distanceY = (body.y - me.y) / scale;\n            drawDot(middleX + distanceX, middleY + distanceY, isStar ? tWidth : playerWidth)\n        }\n    }\n    //draw the center dot (this client's ship)\n    ctx.fillStyle = me.color;\n    drawDot(middleX, middleY, selfWidth);\n}\n\nexport {\n    getMapCanvas,\n    drawMap\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport d from '../d';\nimport Events from './events';\nimport receiveMessages from './chat/receive';\nimport disconnect from './disconnect';\nimport { drawMap } from './map/draw';\n\nfunction startGame() {\n    var c = document.getElementById(\"mainCanvas\");\n    d.c = c;\n    var ctx = c.getContext(\"2d\");\n    \n    var airResistance = 0;\n    var gravity = 0;\n    var g = 0.00667;\n    var starmin = 500;\n    var center = 0;\n    var players = [];\n    var bodies = [];\n\n    var lastFrame = Date.now();\n    \n    function distance(a,b){\n        return Math.abs(Math.sqrt(((a.x-b.x)*(a.x-b.x))+((a.y-b.y)*(a.y-b.y))));\n    }\n    \n    function angle(a,b){\n        return Math.atan2(b.y - a.y, b.x - a.x) * 180 / Math.PI;\n    }\n    \n    class body{\n        constructor(x,y){\n            this.x = x;\n            this.y = y;\n            this.xVel = 0;\n            this.yVel = 0;\n            this.bouncyness = 0.5;\n            this.mass = 10;\n            this.size = 10;\n            this.color = \"#FFFFFF\";\n            this.collided = false;\n            this.delete = false;\n            this.path = [];\n            this.pathMax = 100;\n            this.pathColor = \"#0000FF\";\n            this.invincible = false;\n            this.colliding = false;\n        }\n    \n        \n    \n        collide(other){\n            //if(this.collided || other.delete)\n                //return;\n            //if(other.mass > this.mass){\n                //return;\n            //}\n            let totalmass = this.mass + other.mass\n            let myportion = this.mass/totalmass\n            let otherportion = other.mass/totalmass\n            //console.log(myportion+\", \"+otherportion)\n            this.xVel = ((this.xVel*myportion) + (other.xVel*otherportion))/2\n            this.yVel = ((this.yVel*myportion) + (other.yVel*otherportion))/2\n            this.mass += other.mass;\n            //this.size = totalmass\n                /*\n            let oldxVel = this.xVel;\n            let oldyVel = this.yVel;\n            let thisProportion = this.mass/other.mass;\n            let otherProportion = other.mass/this.mass;\n            this.xVel = other.xVel * otherProportion;\n            this.yVel = other.yVel * otherProportion;\n            other.yVel = oldyVel * thisProportion;\n            other.xVel = oldxVel * thisProportion;\n            this.collided = true;\n            other.collided = true;\n            */\n        }\n    \n        move(){\n            this.y += this.yVel;\n            this.x += this.xVel;\n            this.yVel += gravity;\n            if(this.delete){\n                return;\n            }\n            /*\n            if(this.x > c.width){\n                this.xVel *= -1*this.bouncyness;\n                this.x = c.width;\n            }\n    \n            if(this.y > c.height){\n                this.yVel *= -1*this.bouncyness;\n                this.y = c.height;\n            }\n    \n            if(this.x < 0){\n                this.xVel *= -1*this.bouncyness;\n                this.x = 0;\n            }\n    \n            if(this.y < 0){\n                this.yVel *= -1*this.bouncyness;\n                this.y = 0;\n            }*/\n        }\n    \n        update(){\n            if(this.delete){\n                return;\n            }\n            this.colliding = false;\n    \n            for(let i = 0; i < bodies.length; i++){\n                if(bodies[i].x != this.x && bodies[i].y != this.y){\n                    if(distance(bodies[i],this) < ((this.size/2)+(bodies[i].size/2)) && !this.collided){\n                        this.colliding = true;\n                        if(this.mass > bodies[i].mass || this.mass == bodies[i].mass){\n                            if(!bodies[i].invincible){\n                                this.collide(bodies[i]);\n                                bodies[i].delete = true;\n                                bodies[i].collided = true;\n                                this.collided = true;\n                            }\n                        }else{\n                            //bodies[i].collide(bodies[i]);\n                            //this.delete = true;\n                            //this.collided = true;\n                            //bodies[i].collided = true;\n                            if(this.invincible){\n                                this.xVel = bodies[i].xVel\n                                this.yVel = bodies[i].yVel\n                            }\n                        }\n                        \n                        \n                        \n                    }else{\n                        let totalmass = this.mass+bodies[i].mass\n                        let r = distance(this,bodies[i]);\n                        let f = ((g*((/*this.mass**/bodies[i].mass)/(r*r))))//*(bodies[i].mass/totalmass);\n                        let xoff = Math.abs(this.x-bodies[i].x)\n                        let yoff = Math.abs(this.y-bodies[i].y)\n                        let toff = xoff+yoff;\n                        if(this.x < bodies[i].x){\n                            this.xVel += f * (xoff/toff);\n                        }else{\n                            this.xVel += f * ((xoff*-1)/toff);\n                        }\n                        if(this.y < bodies[i].y){\n                            this.yVel += f * (yoff/toff);\n                        }else{\n                            this.yVel += f * ((yoff*-1)/toff);\n                        }\n    \n                    }\n                }\n            }\n            this.collided = false;\n        }\n    \n    }\n    \n    /*\n    var temp = new body(150,150);\n    temp.xVel = 0//(Math.random()*2)-1;\n    temp.yVel = 0//(Math.random()*2)-1;\n    var m = 2\n    temp.size = m/10;\n    temp.mass = m;\n    temp.pathColor = \"#cc7711\"\n    temp.color = \"#00FF00\"\n    bodies.push(temp);*/\n    /*\n    var spacing = 200;\n    for(let i = -15; i < 15; i++){\n        for(let j = -15; j < 15; j++){\n            let temp = new body(100+(i*spacing),100+(j*spacing));\n            temp.xVel = (Math.random()*0.5)-0.25;\n            temp.yVel = (Math.random()*0.5)-0.25;\n            let m = (Math.random()*50)+25\n            temp.size = m;\n            temp.mass = m;\n            if((i+j)%2 == 0)\n            bodies.push(temp);\n        }\n    }\n    */\n    \n    var dirs = [false,false,false,false]\n    \n    \n    \n    function draw(body) {\n        body.size = Math.sqrt((body.mass/body.density)/Math.PI)\n        body.path.push([body.x,body.y]);\n        ctx.strokeStyle = body.pathColor;\n        ctx.moveTo(body.path[0][0]-cOffsetx,body.path[0][1]-cOffsety);\n        for(let i = 0; i < body.path.length; i++){\n            ctx.lineTo(body.path[i][0]-cOffsetx,body.path[i][1]-cOffsety);\n        }\n        ctx.stroke();\n        if(body.path.length > body.pathMax){\n            body.path.splice(0,1)\n        }\n        var brightnessOffset = 50;\n        //body.size = body.mass/10\n        var offset = 0\n        \n        if(body.mass > starmin){\n            for(let i = 0; i < 20; i++){\n                var tcolor = body.color;\n                tcolor = tcolor.replace(\")\",\",\"+0.05+\")\").replace(\"rgb(\",\"rgba(\");\n                ctx.fillStyle = tcolor;\n                ctx.strokeStyle = tcolor;\n                ctx.beginPath();\n                ctx.arc(body.x+offset-cOffsetx,body.y+offset-cOffsety,(body.size/2)+((i*(body.size/starmin))*brightnessOffset),0,2*Math.PI)\n                ctx.fill();\n                ctx.stroke();\n            }\n        }\n        \n        ctx.fillStyle = body.color;\n            //this.size/2;\n            ctx.strokeStyle = body.color;\n            if(body.shipId == null){\n                ctx.beginPath();\n                ctx.arc(body.x+offset-cOffsetx,body.y+offset-cOffsety,body.size/2,0,2*Math.PI)\n                ctx.fill();\n                ctx.stroke();\n            }else{\n                ctx.beginPath();\n                ctx.arc(body.x+offset-cOffsetx,body.y+offset-cOffsety,body.size*4,0,2*Math.PI)\n                ctx.fill();\n                ctx.stroke();\n            }\n        \n        ctx.shadowBlur = 0;\n        ctx.fillStyle = \"#FF0000\";\n        ctx.strokeStyle = \"#FF0000\";\n        //ctx.fillRect(this.x-cOffsetx,this.y-cOffsety,1,1)\n        ctx.beginPath();\n        ctx.moveTo(body.x-cOffsetx,body.y-cOffsety)\n        var scale = 20;\n        ctx.lineTo((body.xVel*scale)+body.x-cOffsetx,(body.yVel*scale)+body.y-cOffsety);\n        ctx.stroke();\n        if(body.nuke){\n            ctx.fillStyle = \"#FFFF00\";\n            ctx.fillText(\"*\",body.x,body.y)\n        }\n        //ctx.fillRect(this.x-offset,this.y-offset,this.size,this.size);\n    }\n\n    Events.register();\n    \n    d.intervals.colliding = setInterval(function(){\n        var speed = 0.01;\n        var walkspeed = 1\n        if(dirs[0]){\n            bodies[0].xVel+=speed;\n            if(bodies[0].colliding){\n                bodies[0].x+=walkspeed;\n            }\n        }\n        if(dirs[1]){\n            bodies[0].xVel-=speed;\n            if(bodies[0].colliding){\n                bodies[0].x-=walkspeed;\n            }\n        }\n        if(dirs[2]){\n            bodies[0].yVel+=speed;\n            if(bodies[0].colliding){\n                bodies[0].y+=walkspeed;\n            }\n        }\n        if(dirs[3]){\n            bodies[0].yVel-=speed;\n            if(bodies[0].colliding){\n                bodies[0].y-=walkspeed;\n            }\n        }\n    \n    },50)\n    \n    \n    /*\n    temp = new body(2100,2100);\n    temp.xVel = 0//(Math.random()*2)-1;\n    temp.yVel = 0//(Math.random()*2)-1;\n    m = 700\n    temp.size = m/10;\n    temp.mass = m;\n    //bodies.push(temp);\n    */\n    var swarm = [\n        //{swarmSize:10,centerx:250,centery:250,d:200,vel:0.15,m:20,off:0},\n        /*{swarmSize:1,centerx:250,centery:250,d:380,vel:0.561,m:2,off:0},*/\n        /*{swarmSize:1,centerx:250,centery:250,d:200,vel:0.1,m:5,off:Math.PI}*/\n    ]\n    \n    for(let k = 0; k < swarm.length; k++){\n        for(let i = 0; i < swarm[k].swarmSize; i++){\n            let period = (Math.PI*2)/swarm[k].swarmSize\n            let deg = period*i+(swarm[k].off);\n            let tx = (Math.cos(deg)*swarm[k].d)+swarm[k].centerx\n            let ty = (Math.sin(deg)*swarm[k].d)+swarm[k].centery;\n            let temp = new body(tx,ty);\n            temp.xVel = Math.cos(deg+(Math.PI/2))*swarm[k].vel//(Math.random()*2)-1;\n            temp.yVel = Math.sin(deg+(Math.PI/2))*swarm[k].vel//(Math.random()*2)-1;\n            temp.size = swarm[k].m/10;\n            temp.mass = swarm[k].m;\n            bodies.push(temp);\n        }\n    }\n    \n    /*\n    temp = new body(250,200);\n    temp.xVel = 1//(Math.random()*2)-1;\n    temp.yVel = 0//(Math.random()*2)-1;\n    m = 20\n    temp.size = m/10;\n    temp.mass = m;\n    bodies.push(temp);\n    \n    temp = new body(250,300);\n    temp.xVel = -1//(Math.random()*2)-1;\n    temp.yVel = 0//(Math.random()*2)-1;\n    m = 20\n    temp.size = m/10;\n    temp.mass = m;\n    bodies.push(temp);\n    \n    temp = new body(200,250);\n    temp.xVel = 0//(Math.random()*2)-1;\n    temp.yVel = -1//(Math.random()*2)-1;\n    m = 20\n    temp.size = m/10;\n    temp.mass = m;\n    bodies.push(temp);\n    \n    temp = new body(300,250);\n    temp.xVel = 0//(Math.random()*2)-1;\n    temp.yVel = 1//(Math.random()*2)-1;\n    m = 20\n    temp.size = m/10;\n    temp.mass = m;\n    bodies.push(temp);\n    */\n    \n    //bodies[0].invincible = true;\n    \n    var cOffsetx = 0;\n    var cOffsety = 0\n    \n    d.intervals.draw = setInterval(function(){\n        if(bodies.length > 0){\n            cOffsetx = bodies[center].x-c.width/2;\n            cOffsety = bodies[center].y-c.height/2;\n        }\n        players = [];\n        for(let i in bodies){\n            if(i != center && bodies[i].shipId != null){\n                players.push(i);\n            }\n        }\n        ctx.fillStyle = \"#000000\";\n        ctx.fillRect(0,0,c.width,c.height);\n        for(let i of bodies){\n            draw(i);\n        }\n        drawMap(bodies, center);\n        \n        if(bodies[center] == null){\n            return;\n        }\n\n        let currentFrame = Date.now();\n\n        document.getElementById(\"speedspan\").innerHTML = Math.round(Math.sqrt((bodies[center].yVel*bodies[center].yVel)+(bodies[center].xVel*bodies[center].xVel))*100)/100\n        document.getElementById(\"xcoord\").innerHTML = Math.round(bodies[center].x)\n        document.getElementById(\"ycoord\").innerHTML = Math.round(bodies[center].y)\n        document.getElementById(\"playersOnline\").innerHTML = players.length + 1;\n        document.getElementById(\"FPSDisplay\").innerHTML = Math.round(1000 / (currentFrame - lastFrame));\n\n        lastFrame = currentFrame;\n        /*for(let i = 0; i < bodies.length; i++){\n            bodies[i].update();\n        }\n    \n        for(let i = 0; i < bodies.length; i++){\n            bodies[i].move();\n        }\n        for(let i = bodies.length-1; i >= 0; i--){\n            if(bodies[i].delete){\n                bodies.splice(i,1);\n            }\n        }*/\n    },50);\n    \n    var myid = 0;\n    d.socket.on(\"connect\",function(){\n        myid = d.socket.id;\n    });\n\n    d.socket.on(\"pong\", ms => {\n        document.getElementById('ping').innerHTML = ms;\n    });\n\n    d.socket.on(\"kick\", kickMessage => {\n        setTimeout(() => {\n            disconnect();\n            alert(kickMessage);\n        }, 500);\n    })\n    \n    d.socket.on(\"disconnect\", () => {\n        setTimeout(() => {\n            disconnect();\n            alert(\"Communication between you and the server was interrupted.\");\n        }, 500);\n    });\n    \n    d.socket.on(\"bodyupdate\",function(b){\n        bodies = JSON.parse(b)\n        let foundCenter = false;\n        for(let i in bodies){\n            if(bodies[i].shipId != null){\n                let id = bodies[i].shipId\n                if(id == myid){\n                    center = i;\n                    foundCenter = true;\n                }\n            }\n        }\n        if(!foundCenter){\n            center = 0;\n            d.socket.emit(\"newShip\");\n        }\n    });\n    \n    d.socket.on(\"center\",function(k){\n        center = k;\n    });\n\n    receiveMessages();\n}\n\nexport default startGame;","import React from 'react';\nimport './index.css';\n\nfunction Map() {\n    return (\n        <canvas id=\"map\" width={150} height={150}></canvas>\n    );\n}\n\nexport default Map;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport startGame from './start';\nimport PauseMenu from './menu/';\nimport Map from './map/';\nimport { getMapCanvas } from './map/draw';\nimport Chat from './chat/';\n\nclass Game extends React.Component {\n    render() {\n        return (\n            <div>\n                <canvas id=\"mainCanvas\" />\n                <div id=\"info\">\n                    velocity: <span id=\"speedspan\"></span>km/s<br />\n                    x: <span id=\"xcoord\"></span> y: <span id=\"ycoord\"></span><br />\n                    players online: <span id=\"playersOnline\"></span>\n                </div>\n                <PauseMenu />\n                <Map />\n                <Chat />\n            </div>\n        );\n    }\n\n    componentDidMount() {\n        getMapCanvas();\n        startGame();\n    }\n}\n\nexport default Game;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport socketIOClient from \"socket.io-client\";\nimport Game from '../game';\nimport d from '../d';\n\nfunction connect(server) {\n    d.socket = socketIOClient(`ws${server.secure ? \"s\" : \"\"}://${server.url}`, {transports: ['websocket']});\n    d.server = server;\n    // on reconnection, reset the transports option, as the Websocket connection may have failed (caused by proxy, firewall, browser, ...)\n    d.socket.on('reconnect_attempt', () => {\n        d.socket.io.opts.transports = ['polling', 'websocket'];\n    });\n    ReactDOM.render(<Game />, d.root);\n}\n\nexport default connect;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport connect from './connect';\nimport d from '../d';\nimport serverList from './serverlist';\n\nfunction directConnect() {\n    let address = document.getElementById('toConnect').value;\n    let server = {\n        url: address,\n        secure: false,\n    };\n    if (address.startsWith('http://')) {\n        server.url = address.slice('http://'.length);\n    } else if (address.startsWith('https://')) {\n        server.url = address.slice('https://'.length);\n        server.secure = true;\n    }\n    connect(server);\n}\n\nfunction ServerBrowser() {\n    if (d.socket != null) {\n        d.socket.close();\n        d.socket = null;\n    }\n    \n    let servers = [];\n    let secure = window.location.protocol == \"https:\";\n    for (let server of serverList) {\n        if (secure && !server.secure)\n            continue;\n        servers.push(\n            <div>\n                <button onClick={() => connect(server)}>{server.url}</button>\n            </div>\n        );\n    }\n\n    return (\n        <div>\n            {servers}\n            <br />\n            <label>Direct connect:</label>\n            <br />\n            <input id=\"toConnect\" placeholder=\"IP/Address\" onKeyUp={e => {\n                if (e.key === 'Enter')\n                    directConnect();\n            }} />\n            <button onClick={directConnect}>Connect</button>\n        </div>\n    );\n}\n\nexport default ServerBrowser;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport ServerBrowser from './serverbrowser';\nimport Game from './game';\nimport d from './d';\n\nReactDOM.render(ServerBrowser(), d.root);"],"sourceRoot":""}