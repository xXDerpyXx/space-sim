(this["webpackJsonpspace-sim"]=this["webpackJsonpspace-sim"]||[]).push([[0],{118:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg=="},122:function(e){e.exports=JSON.parse('[{"url":"derpy.live:3979","secure":false},{"url":"[2a00:23c2:fb01:1d01:d468:e0f1:32da:97e7]:2086","secure":false},{"url":"ss.flynna.uk","secure":true}]')},124:function(e,t,n){e.exports=n(333)},129:function(e,t,n){},130:function(e,t,n){},160:function(e,t){},163:function(e,t,n){},164:function(e,t,n){},329:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(11),i=n.n(c),r=(n(129),n(123)),o=n(20),s=n(3),u=n(4),d=n(14),h=n(13),m=(n(130),n(118)),p=n.n(m),y=n(119),E=n.n(y),v=(n(163),{intervals:{},socket:null,server:null,root:document.getElementById("root")}),f={open:"+Chat",close:"-Chat"};function g(){return"block"==document.getElementById("chatBox").style.display}function k(){var e=g();document.getElementById("chatBox").style.display=e?"none":"block",document.getElementById("openChatButtonText").innerHTML=f[e?"open":"close"]}var b=function(){var e=document.getElementById("chatInput");""!=e.value&&(v.socket.emit("sendMessage",e.value),e.value="")};n(164);var w=function(){null!=v.socket&&(V.unregister(),v.socket.removeAllListeners(),v.socket.close(),v.socket=null,clearInterval(v.intervals.colliding),clearInterval(v.intervals.draw),i.a.render(l.a.createElement(ce,null),v.root))},I=n(120),M=(n(329),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={background:"#000000"},e.handleClick=function(){e.setState({displayColorPicker:!e.state.displayColorPicker})},e.handleChangeComplete=function(e){v.socket.emit("changeColor",e.hex)},e.colors=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50"],e}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("button",{onClick:this.handleClick},"Toggle ship color picker"),this.state.displayColorPicker?l.a.createElement(I.SketchPicker,{width:"130px",disableAlpha:!0,presetColors:this.colors,onChangeComplete:this.handleChangeComplete}):null)}}]),n}(l.a.Component));function x(){document.getElementById("pauseMenu").style.display="block",document.getElementById("pauseButton").style.display="none"}function A(){document.getElementById("pauseMenu").style.display="none",document.getElementById("pauseButton").style.display="block"}function B(){A(),w(),setTimeout((function(){return ne(v.server)}),1)}var S=function(){return l.a.createElement("div",null,l.a.createElement("button",{id:"pauseButton",onClick:x,style:{display:"block"}}),l.a.createElement("div",{id:"pauseMenu",style:{display:"none"}},l.a.createElement("center",{id:"pauseMenuContents"},l.a.createElement("button",{onClick:A},"Resume"),l.a.createElement("br",null),l.a.createElement("button",{onClick:B},"New ship"),l.a.createElement("br",null),l.a.createElement("button",{onClick:w},"Disconnect"),l.a.createElement("br",null),l.a.createElement(M,null),l.a.createElement("label",{for:"controlMethod",style:{color:"white"}},"Control method: "),l.a.createElement("select",{id:"controlMethod"},l.a.createElement("option",{value:0},"rotate"),l.a.createElement("option",{value:1},"point")),l.a.createElement("hr",null),l.a.createElement("p",null,"Server: ",v.server.url,l.a.createElement("br",null),"Ping: ",l.a.createElement("span",{id:"ping"},"(pinging...)"),"ms",l.a.createElement("br",null),"FPS: ",l.a.createElement("span",{id:"FPSDisplay"},"(waiting for frame...)")))))},T={ArrowRight:0,ArrowDown:90,ArrowLeft:180,ArrowUp:270},P=[];function L(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function j(e){return Math.PI/180*e}function C(){if(P.length>0){var e,t=[],n=Object(o.a)(P);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(T[a])}}catch(c){n.e(c)}finally{n.f()}for(var l=180/Math.PI*Math.atan2(L(t.map(j).map(Math.sin))/t.length,L(t.map(j).map(Math.cos))/t.length);l<360;)l+=360;v.socket.emit("setangle",l)}}function O(e){if("chatInput"!=document.activeElement.id){switch(e.code){case"Space":v.socket.emit("nuke")}switch(Number(document.getElementById("controlMethod").value)){case 0:switch(e.code){case"ArrowUp":v.socket.emit("accelerate",!0);break;case"ArrowDown":v.socket.emit("decelerate",!0);break;case"ArrowLeft":v.socket.emit("rotateleft",!0);break;case"ArrowRight":v.socket.emit("rotateright",!0)}break;case 1:T.hasOwnProperty(e.code)&&(-1==P.indexOf(e.code)&&P.push(e.code),C(),1==P.length&&v.socket.emit("accelerate",!0))}}}function R(e){switch(e.code){case"KeyT":g()||k(),"chatInput"!=document.activeElement.id&&document.getElementById("chatInput").focus();break;case"Enter":"chatInput"==document.activeElement.id&&b();break;case"Escape":"chatInput"==document.activeElement.id&&g()?k():"block"==document.getElementById("pauseMenu").style.display?A():x()}switch(Number(document.getElementById("controlMethod").value)){case 0:switch(e.code){case"ArrowUp":v.socket.emit("accelerate",!1);break;case"ArrowDown":v.socket.emit("decelerate",!1);break;case"ArrowLeft":v.socket.emit("rotateleft",!1);break;case"ArrowRight":v.socket.emit("rotateright",!1)}break;case 1:console.log(":)"),T.hasOwnProperty(e.code)&&(-1!=P.indexOf(e.code)&&P.splice(P.indexOf(e.code),1),C(),0==P.length&&v.socket.emit("accelerate",!1))}}function D(e){v.c.width=document.documentElement.clientWidth,v.c.height=document.documentElement.clientHeight}var V=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"register",value:function(){window.addEventListener("keydown",O),window.addEventListener("keyup",R),D(),window.addEventListener("resize",D)}},{key:"unregister",value:function(){window.removeEventListener("keydown",O),window.removeEventListener("keyup",R),window.removeEventListener("resize",D)}}]),e}(),N=n(121);n(331);function W(e){return l.a.createElement("div",{className:"chat-message"},l.a.createElement("svg",{className:"player-icon",height:16,width:16},l.a.createElement("circle",{cx:8,cy:8,r:8,fill:e.player.color})),l.a.createElement("span",{className:"chat-message-text"},e.children))}var J=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={messages:[]},e}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{id:"chat"},l.a.createElement("button",{id:"openChatButton",onClick:k},l.a.createElement("span",{id:"openChatButtonText"},f.open),"(",l.a.createElement("span",{id:"messagesSentNum"},"0"),")"),l.a.createElement("div",{id:"chatBox"},l.a.createElement("div",{id:"chatMessages"},this.state.messages),l.a.createElement("div",{id:"sendChat"},l.a.createElement("input",{id:"chatInput",maxLength:100}),l.a.createElement("button",{onClick:b},"Send"))))}}]),n}(l.a.Component);var Z,z,F,H,U,Y,G=function(){v.socket.on("message",(function(e,t){var n=document.getElementById("chatMessages");n.innerHTML+=Object(N.renderToString)(l.a.createElement(W,{player:e},t));var a=document.getElementById("chatMessages").children,c=a[a.length-1],i=n.scrollHeight-n.clientHeight-n.clientTop;i-n.scrollTop<c.clientHeight+5&&(n.scrollTop=i),document.getElementById("messagesSentNum").innerHTML=a.length}))},X=!1;function Q(){Z=document.getElementById("map"),z=Z.getContext("2d"),Z.requestPointerLock=Z.requestPointerLock||Z.mozRequestPointerLock,document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock,Z.addEventListener("wheel",q),Z.addEventListener("mousemove",K),Z.addEventListener("mousedown",(function(){document.getElementById("mapResetButton").style.display="",X=!0,Z.requestPointerLock()})),Z.addEventListener("mouseup",(function(){X=!1,document.exitPointerLock()})),F=Z.width/2,H=Z.height/2,U=100,Y={x:0,y:0},document.getElementById("mapResetButton").style.display="none"}function q(e){document.getElementById("mapResetButton").style.display="";var t=3;e.deltaY<0&&(t*=-1);var n=1+t/100;U*n>0&&(U*=n,Y.x/=n,Y.y/=n)}function K(e){X&&(Y.x+=e.movementX,Y.y+=e.movementY)}function _(e,t,n){var a=n/2;z.fillRect(e-a+Y.x,t-a+Y.y,n,n)}var $=function(){var e=document.getElementById("mainCanvas");v.c=e;var t=e.getContext("2d"),n=0,a=[],l=[],c=Date.now();function i(e,t){return Math.abs(Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)))}function r(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}var d=function(){function e(t,n){Object(s.a)(this,e),this.x=t,this.y=n,this.xVel=0,this.yVel=0,this.bouncyness=.5,this.mass=10,this.size=10,this.color="#FFFFFF",this.collided=!1,this.delete=!1,this.path=[],this.pathMax=100,this.pathColor="#0000FF",this.invincible=!1,this.colliding=!1,this.angle=0}return Object(u.a)(e,[{key:"collide",value:function(e){var t=this.mass+e.mass,n=this.mass/t,a=e.mass/t;this.xVel=(this.xVel*n+e.xVel*a)/2,this.yVel=(this.yVel*n+e.yVel*a)/2,this.mass+=e.mass}},{key:"move",value:function(){this.y+=this.yVel,this.x+=this.xVel,this.yVel+=0,this.delete}},{key:"update",value:function(){if(!this.delete){this.colliding=!1;for(var e=0;e<l.length;e++)if(l[e].x!=this.x&&l[e].y!=this.y)if(i(l[e],this)<this.size/2+l[e].size/2&&!this.collided)this.colliding=!0,this.mass>l[e].mass||this.mass==l[e].mass?l[e].invincible||(this.collide(l[e]),l[e].delete=!0,l[e].collided=!0,this.collided=!0):this.invincible&&(this.xVel=l[e].xVel,this.yVel=l[e].yVel);else{this.mass,l[e].mass;var t=i(this,l[e]),n=l[e].mass/(t*t)*.00667,a=Math.abs(this.x-l[e].x),c=Math.abs(this.y-l[e].y),r=a+c;this.x<l[e].x?this.xVel+=n*(a/r):this.xVel+=n*(-1*a/r),this.y<l[e].y?this.yVel+=n*(c/r):this.yVel+=n*(-1*c/r)}this.collided=!1}}}]),e}(),h=[!1,!1,!1,!1];function m(e){e.size=Math.sqrt(e.mass/e.density/Math.PI),e.path.push([e.x,e.y]),t.strokeStyle="#FF0000",t.moveTo(e.path[0][0]-k,e.path[0][1]-b);for(var n=0;n<e.path.length;n++)t.lineTo(e.path[n][0]-k,e.path[n][1]-b);t.stroke(),e.path.length>e.pathMax&&e.path.splice(0,1);if(e.mass>1e3){for(var a=0;a<20;a++){var c=e.color;c=c.replace(")",",0.05)").replace("rgb(","rgba("),t.fillStyle=c,t.strokeStyle=c,t.beginPath(),t.arc(e.x+0-k,e.y+0-b,e.size/2+a*(e.size/1e3)*50,0,2*Math.PI),t.fill(),t.stroke()}for(var o=0;o<l.length;o++)if(!(l[o].mass>1e3)){var s=i(e,l[o]);if(s<e.size/2+e.size/1e3*20*50){t.strokeStyle="#000000";var u=e.size/2+e.size/1e3*20*50-s,d=t.lineWidth;t.lineWidth=l[o].size,null!=l[o].shipId&&(t.lineWidth=8*l[o].size);var h=r(e,l[o]);t.beginPath(),t.moveTo(l[o].x-k,l[o].y-b),t.lineTo(l[o].x+Math.cos(h)*u-k,l[o].y+Math.sin(h)*u-b),t.stroke(),t.lineWidth=d}}}if(t.fillStyle=e.color,t.strokeStyle=e.color,null==e.shipId)t.beginPath(),t.arc(e.x+0-k,e.y+0-b,e.size/2,0,2*Math.PI),t.fill(),t.stroke();else{t.beginPath(),t.arc(e.x+0-k,e.y+0-b,4*e.size,0,2*Math.PI),t.fill(),t.stroke();h=e.angle*(Math.PI/180),d=t.lineWidth;t.lineWidth=2*e.size,t.beginPath(),t.moveTo(e.x+0-k,e.y+0-b),t.lineTo(10*Math.cos(h)+0-k+e.x,10*Math.sin(h)+0-b+e.y),t.stroke(),t.lineWidth=d}t.shadowBlur=0,t.fillStyle="#FF0000",t.strokeStyle="#FF0000",t.beginPath(),t.moveTo(e.x-k,e.y-b);t.lineTo(20*e.xVel+e.x-k,20*e.yVel+e.y-b),t.stroke(),e.nuke&&(t.fillStyle="#FFFF00",t.fillText("*",e.x,e.y))}V.register(),v.intervals.colliding=setInterval((function(){h[0]&&(l[0].xVel+=.01,l[0].colliding&&(l[0].x+=1)),h[1]&&(l[0].xVel-=.01,l[0].colliding&&(l[0].x-=1)),h[2]&&(l[0].yVel+=.01,l[0].colliding&&(l[0].y+=1)),h[3]&&(l[0].yVel-=.01,l[0].colliding&&(l[0].y-=1))}),50);for(var p=[],y=0;y<p.length;y++)for(var E=0;E<p[y].swarmSize;E++){var f=2*Math.PI/p[y].swarmSize*E+p[y].off,g=new d(Math.cos(f)*p[y].d+p[y].centerx,Math.sin(f)*p[y].d+p[y].centery);g.xVel=Math.cos(f+Math.PI/2)*p[y].vel,g.yVel=Math.sin(f+Math.PI/2)*p[y].vel,g.size=p[y].m/10,g.mass=p[y].m,l.push(g)}var k=0,b=0;v.intervals.draw=setInterval((function(){for(var i in l.length>0&&(k=l[n].x-e.width/2,b=l[n].y-e.height/2),a=[],l)i!=n&&null!=l[i].shipId&&a.push(i);t.fillStyle="#000000",t.fillRect(0,0,e.width,e.height);var r,s=Object(o.a)(l);try{for(s.s();!(r=s.n()).done;){m(r.value)}}catch(d){s.e(d)}finally{s.f()}if(function(e,t){if(z.clearRect(0,0,Z.width,Z.height),e[t]){var n=e[t];for(var a in e)if(a!=t){var l=e[a];if(!l.shipId||document.getElementById("showPlayers").checked){var c=l.mass>500;if((!c||document.getElementById("showStars").checked)&&(l.shipId||c||document.getElementById("showPlanets").checked)){z.fillStyle=l.color;var i=(l.x-n.x)/U,r=(l.y-n.y)/U;_(F+i,H+r,l.shipId?4:l.size/10*(100/U))}}}document.getElementById("showSelf").checked&&(z.fillStyle=n.color,_(F,H,5))}}(l,n),null!=l[n]){var u=Date.now();document.getElementById("speedspan").innerHTML=Math.round(100*Math.sqrt(l[n].yVel*l[n].yVel+l[n].xVel*l[n].xVel))/100,document.getElementById("xcoord").innerHTML=Math.round(l[n].x),document.getElementById("ycoord").innerHTML=Math.round(l[n].y),document.getElementById("playersOnline").innerHTML=a.length+1,document.getElementById("FPSDisplay").innerHTML=Math.round(1e3/(u-c)),c=u}}),50);var I=0;v.socket.on("connect",(function(){I=v.socket.id})),v.socket.on("pong",(function(e){document.getElementById("ping").innerHTML=e})),v.socket.on("kick",(function(e){setTimeout((function(){w(),alert(e)}),500)})),v.socket.on("disconnect",(function(){setTimeout((function(){w(),alert("Communication between you and the server was interrupted.")}),500)})),v.socket.on("bodyupdate",(function(e){l=JSON.parse(e);var t=!1;for(var a in l){if(null!=l[a].shipId)l[a].shipId==I&&(n=a,t=!0)}t||(n=0,v.socket.emit("newShip"))})),v.socket.on("center",(function(e){n=e})),G()},ee=(n(332),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{id:"mapContainer"},l.a.createElement("div",null,l.a.createElement("button",{id:"mapResetButton",onClick:Q}),l.a.createElement("br",null),l.a.createElement("canvas",{id:"map",width:150,height:150})),l.a.createElement("div",{style:{color:"lightgrey",opacity:.28}},l.a.createElement("input",{type:"checkbox",id:"showSelf"}),l.a.createElement("label",{for:"showSelf"},"Self"),l.a.createElement("br",null),l.a.createElement("input",{type:"checkbox",id:"showPlayers"}),l.a.createElement("label",{for:"showPlayers"},"Players"),l.a.createElement("br",null),l.a.createElement("input",{type:"checkbox",id:"showStars"}),l.a.createElement("label",{for:"showStars"},"Stars"),l.a.createElement("br",null),l.a.createElement("input",{type:"checkbox",id:"showPlanets"}),l.a.createElement("label",{for:"showPlanets"},"Planets")))}},{key:"componentDidMount",value:function(){for(var e=0,t=["showSelf","showPlayers","showStars"];e<t.length;e++){var n=t[e];document.getElementById(n).checked=!0}}}]),n}(l.a.Component)),te=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("canvas",{id:"mainCanvas"}),l.a.createElement("div",{id:"info"},"velocity: ",l.a.createElement("span",{id:"speedspan"}),"km/s",l.a.createElement("br",null),"x: ",l.a.createElement("span",{id:"xcoord"})," y: ",l.a.createElement("span",{id:"ycoord"}),l.a.createElement("br",null),"players online: ",l.a.createElement("span",{id:"playersOnline"})),l.a.createElement(S,null),l.a.createElement(ee,null),l.a.createElement(J,null))}},{key:"componentDidMount",value:function(){Q(),$()}}]),n}(l.a.Component);var ne=function(e){v.socket=E()("ws".concat(e.secure?"s":"","://").concat(e.url),{transports:["websocket"]}),v.server=e,v.socket.on("reconnect_attempt",(function(){v.socket.io.opts.transports=["polling","websocket"]})),i.a.render(l.a.createElement(te,null),v.root)},ae=n(122);function le(){for(var e=document.getElementById("toConnect").value;"/"==e[e.length-1];)e=e.slice(0,-1);var t={url:e,secure:!1};e.startsWith("http://")?t.url=e.slice("http://".length):e.startsWith("https://")&&(t.url=e.slice("https://".length),t.secure=!0),ne(t)}var ce=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={servers:[]},a}return Object(u.a)(n,[{key:"render",value:function(){return null!=v.socket&&(v.socket.close(),v.socket=null),l.a.createElement("div",null,l.a.createElement("h1",null,"space-sim",l.a.createElement("a",{href:"https://github.com/xXDerpyXx/space-sim",id:"githubLogo"},l.a.createElement("img",{src:p.a}))),l.a.createElement("label",null,"Direct connect:"),l.a.createElement("br",null),l.a.createElement("input",{id:"toConnect",placeholder:"IP/Address",onKeyUp:function(e){"Enter"===e.key&&le()}}),l.a.createElement("button",{onClick:le},"Connect"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",null,"Official serverlist:"),l.a.createElement("table",{id:"serverList"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Address"),l.a.createElement("th",null,"Players"),l.a.createElement("th",null,"Uptime"),l.a.createElement("th",null,"Location"))),l.a.createElement("tbody",null,this.state.servers)),l.a.createElement("br",null))}},{key:"componentDidMount",value:function(){var e,t=this,n="https:"==window.location.protocol,a=Object(o.a)(ae);try{var c=function(){var a=e.value;if(n&&!a.secure)return"continue";var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4==c.readyState&&200==c.status){var e=JSON.parse(c.responseText);t.setState((function(t){return{servers:[].concat(Object(r.a)(t.servers),[l.a.createElement("tr",{key:t.servers.length,onClick:function(){return ne(a)}},l.a.createElement("td",null,e.name),l.a.createElement("td",null,a.url),l.a.createElement("td",null,e.players),l.a.createElement("td",null,e.uptime?e.uptime:null),l.a.createElement("td",null,e.location))])}}))}},c.open("GET","http".concat(a.secure?"s":"","://").concat(a.url,"/basicinfo"),!0),c.send(null)};for(a.s();!(e=a.n()).done;)c()}catch(i){a.e(i)}finally{a.f()}}}]),n}(l.a.Component);i.a.render(l.a.createElement(ce,null),v.root)}},[[124,1,2]]]);
//# sourceMappingURL=main.da63987e.chunk.js.map