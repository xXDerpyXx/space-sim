{"version":3,"sources":["serverbrowser/github.png","d.js","game/joystick/index.js","game/chat/toggle.js","game/chat/send.js","game/throttle/index.js","game/events.js","game/menu/index.js","game/disconnect.js","game/menu/colorpicker/index.js","game/menu/toggleUI.js","game/fuelGauge/index.js","game/map/draw.js","game/map/index.js","game/renderer/shipPath.js","game/chat/index.js","game/chat/receive.js","game/renderer/index.js","game/getServerInfo.js","game/index.js","serverbrowser/connect.js","serverbrowser/index.js","index.js"],"names":["module","exports","d","intervals","socket","server","root","document","getElementById","fuel","current","max","currentUsage","joyOptions","mode","catchDistance","color","containerStyle","position","height","width","background","JoyWrapper","managerListener","bind","manager","throttleAmount","on","Number","throttleSlider","value","emit","e","stick","distance","angle","degree","this","props","classes","id","style","display","React","Component","chatButtonText","open","close","chatIsShown","toggleChat","shown","innerHTML","sendChat","chatInput","handleChange","power","toFixed","Throttle","controlMethod","useState","setValue","useEffect","handleSliderChange","event","newValue","Slider","min","step","onChange","valueLabelDisplay","valueLabelFormat","directions","keysDown","sum","a","s","degToRad","Math","PI","redirect","length","angles","i","push","atan2","map","sin","cos","changeThrottle","up","newVal","round","console","log","keydown","activeElement","code","hasOwnProperty","indexOf","keyup","focus","unpause","pause","splice","mousemove","x","c","y","atan","mousedown","mouseup","resize","documentElement","clientWidth","clientHeight","Events","window","addEventListener","removeEventListener","disconnect","alertMessage","unregister","removeAllListeners","clearInterval","colliding","draw","ReactDOM","render","alert","ColorPicker","state","handleClick","setState","displayColorPicker","handleChangeComplete","localStorage","hex","colors","onClick","disableAlpha","presetColors","onChangeComplete","toToggle","hidden","toggleUI","visibility","reconnect","setTimeout","connect","changeControl","method","joystickDiv","PauseMenu","htmlFor","defaultValue","url","test","navigator","userAgent","FuelGauge","canvas","ctx","middleX","middleY","scale","pos","currentPercent","setCurrentPercent","setArcs","timer","clearTimeout","nrOfLevels","percent","val","mouseDown","getMapCanvas","getContext","requestPointerLock","mozRequestPointerLock","exitPointerLock","mozExitPointerLock","zoom","drag","scrollAmount","deltaY","zoomAmount","movementX","movementY","drawDot","size","offset","fillRect","Map","opacity","type","checked","shipPath","shipPath2D","Path2D","ShipSVG","SVGData","className","transform","direction","fill","closePath","chatColors","chat","action","Message","message","sender","content","receiver","append","Chat","messages","maxLength","send","receiveMessages","chatDiv","renderToString","children","lastMessage","scrollTopMax","scrollHeight","clientTop","scrollTop","startGame","center","players","bodies","lastFrame","Date","now","b","abs","sqrt","body","mass","density","path","strokeStyle","beginPath","moveTo","cOffsetx","cOffsety","lineTo","stroke","pathMax","brightnessOffset","tcolor","replace","fillStyle","arc","slength","twidth","lineWidth","shipId","sc","ra","rx","ry","a1","la","lx","ly","a2","translate","rotate","shadowBlur","xVel","yVel","nuke","fillText","texture","t","temp","sx","sy","ex","ey","register","setInterval","undefined","clearRect","me","isStar","distanceX","distanceY","drawMap","currentFrame","myid","ms","kickMessage","fuelUsage","JSON","parse","foundCenter","k","getServerInfo","xmlHttp","XMLHttpRequest","onreadystatechange","readyState","status","serverInfo","responseText","fuelMax","secure","Game","socketIOClient","transports","io","opts","toTime","n","output","floor","toString","padStart","directConnect","address","slice","startsWith","refresh","ServerBrowser","servers","href","src","placeholder","onKeyUp","key","fontSize","serverListComponent","location","protocol","serverList","prevState","name","timeLeft"],"mappings":"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","file":"static/js/main.271bc348.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==\"","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nvar d = {\n    intervals: {},\n    socket: null,\n    server: null,\n    root: document.getElementById('root'),\n    fuel: {\n        current: 1,\n        max: 1,\n        currentUsage: 1,\n    }\n};\n\nexport default d;","import React from 'react';\nimport JoyStick from 'react-joystick';\nimport d from '../../d';\n\nconst joyOptions = {\n    mode: 'dynamic',\n    catchDistance: 150,\n    color: 'white'\n}\n\nconst containerStyle = {\n    position: 'relative',\n    height: '4000px',\n    width: '100%',\n    background: 'rgba(0, 0, 0, 0)'\n}\n\n\nclass JoyWrapper extends React.Component {\n    constructor() {\n        super();\n        this.managerListener = this.managerListener.bind(this);\n    }\n\n    managerListener(manager) {\n        let throttleAmount;\n        manager.on('start', () => {\n            throttleAmount = Number(d.throttleSlider.value);\n            d.socket.emit('accelerate', true);\n        });\n        manager.on('end', () => {\n            d.socket.emit('throttle', throttleAmount);\n            d.socket.emit('accelerate', false);\n        });\n        manager.on('move', (e, stick) => {\n            d.socket.emit('throttle', throttleAmount * (stick.distance / 50));\n            d.socket.emit('setangle', 360 - stick.angle.degree)\n        });\n    }\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <div id=\"joystickControls\" style={{display: 'none'}}>\n                <JoyStick joyOptions={joyOptions} containerStyle={containerStyle} managerListener={this.managerListener} />\n            </div>\n        );\n    }\n}\n\nexport default JoyWrapper;","const chatButtonText = {\n    open: \"+Chat\",\n    close: \"-Chat\",\n};\n\nfunction chatIsShown() {\n    return document.getElementById(\"chatBox\").style.display == \"block\";\n}\n\nfunction toggleChat() {\n    let shown = chatIsShown();\n    document.getElementById(\"chatBox\").style.display = (shown ? \"none\" : \"block\");\n    document.getElementById(\"openChatButtonText\").innerHTML = chatButtonText[(shown ? \"open\" : \"close\")];\n    document.getElementById('openChatButton').style.background = ''; //reset the background of the open chat button (because it will turn red when a new chat is posted and the chat is closed)\n};\n\nexport {\n    toggleChat,\n    chatIsShown,\n    chatButtonText\n};","import d from '../../d';\n\nfunction sendChat() {\n    let chatInput = document.getElementById(\"chatInput\");\n    if (chatInput.value == \"\")\n        return;\n    d.socket.emit(\"sendMessage\", chatInput.value);\n    chatInput.value = \"\";\n}\n\nexport default sendChat;","import React from 'react';\nimport { Slider } from '@material-ui/core';\nimport './index.css';\nimport d from '../../d';\n\nconst defaultThrottle = 0.2;\n\nfunction handleChange(power) {\n    document.getElementById('throttleLevel').innerHTML = power.toFixed(2);\n    d.socket.emit('throttle', power);\n}\n\nfunction Throttle() {\n    let [value, setValue] = React.useState(defaultThrottle);\n\n    d.throttleSlider = {\n        value,\n        setValue,\n    };\n\n    React.useEffect(() => handleSliderChange(null, value)); //runs after render\n\n    let handleSliderChange = (event, newValue) => {\n        setValue(newValue);\n        handleChange(newValue)\n    };\n\n    return (\n        <div id=\"throttleDiv\">\n            <Slider\n                min={0}\n                max={1}\n                step={0.01}\n                value={value}\n                onChange={handleSliderChange}\n                valueLabelDisplay=\"auto\"\n                valueLabelFormat={newValue => `Fuel usage: ${(d.fuel.currentUsage*100).toFixed(1)}`}\n            />\n            <span id=\"throttleLevel\">\n                0.25\n            </span>\n        </div>\n    );\n}\n\nexport default Throttle;\n\nexport {\n    Throttle,\n    handleChange\n};","import d from '../d';\nimport { chatIsShown, toggleChat } from './chat/toggle';\nimport sendChat from './chat/send';\nimport { isPaused, pause, unpause } from './menu/';\nimport { handleChange } from './throttle/';\n\nconst directions = {\n    \"ArrowRight\": 0,\n    \"ArrowDown\": 90,\n    \"ArrowLeft\": 180,\n    \"ArrowUp\": 270,\n\n    \"KeyD\": 0,\n    \"KeyS\": 90,\n    \"KeyA\": 180,\n    \"KeyW\": 270,\n\n    \"Numpad6\": 0,\n    \"Numpad3\": 45,\n    \"Numpad2\": 90,\n    \"Numpad1\": 135,\n    \"Numpad4\": 180,\n    \"Numpad7\": 225,\n    \"Numpad8\": 270,\n    \"Numpad9\": 315,\n};\n\nvar keysDown = [];\n\nfunction sum(a) {\n    let s = 0;\n    for (let i of a) s += i;\n    return s;\n} \n \nfunction degToRad(a) {\n    return Math.PI / 180 * a;\n}\n\nfunction redirect() {\n    if (keysDown.length > 0) {\n        let angles = [];\n        for (let i of keysDown)\n            angles.push(directions[i]);\n        let angle = 180 / Math.PI * Math.atan2(\n            sum(angles.map(degToRad).map(Math.sin)) / angles.length,\n            sum(angles.map(degToRad).map(Math.cos)) / angles.length\n        );\n        while (angle < 360) angle += 360;\n        d.socket.emit(\"setangle\", angle);\n    }\n}\n\nfunction changeThrottle(up = true) {\n    let newVal = Math.round((Number(d.throttleSlider.value) + (Number(0.01) * ((Number(up) * 2) - 1))) * 100) / 100;\n    console.log(d);\n    if (newVal >= 0 && newVal <= 1) {\n        d.throttleSlider.setValue(newVal);\n        handleChange(newVal);\n    }\n}\n\nfunction keydown(e) {\n    if (document.activeElement.id == \"chatInput\")\n        return;\n    \n    switch (e.code) {\n        case \"Minus\":\n        case \"ControlLeft\":\n        case \"ControlRight\":\n            changeThrottle(false);\n            break;\n\n        case \"Equal\":\n        case \"ShiftLeft\":\n        case \"ShiftRight\":\n            changeThrottle(true);\n            break;\n\n        case \"KeyJ\":\n            d.socket.emit(\"hyperjump\");\n            break\n\n        case \"Space\":\n            d.socket.emit(\"nuke\");\n            break;\n    }\n\n    switch (Number(controlMethod.value)) {\n        case 0:\n            switch (e.code) {\n                case \"KeyW\":\n                case \"ArrowUp\":\n                    d.socket.emit(\"accelerate\", true);\n                    break;\n\n                case \"KeyS\":\n                case \"ArrowDown\":\n                    d.socket.emit(\"decelerate\", true);\n                    break;\n                \n                case \"KeyA\":\n                case \"ArrowLeft\":\n                    d.socket.emit(\"rotateleft\", true);\n                    break;\n\n                case \"KeyD\":\n                case \"ArrowRight\":\n                    d.socket.emit(\"rotateright\", true);\n                    break;\n            }\n            break;\n\n        case 1:\n            if (directions.hasOwnProperty(e.code)) {\n                if (keysDown.indexOf(e.code) == -1)\n                    keysDown.push(e.code);\n                redirect();\n                if (keysDown.length == 1)\n                    d.socket.emit(\"accelerate\", true);\n            }\n            break;\n    }\n}\n\nfunction keyup(e) {\n    switch (e.code) {\n        case \"KeyT\":\n            if (!chatIsShown())\n                toggleChat();\n            if (document.activeElement.id != \"chatInput\")\n                document.getElementById(\"chatInput\").focus();\n            break;\n        \n        case \"Enter\":\n            if (document.activeElement.id == \"chatInput\")\n                sendChat();\n            break;\n        \n        case \"Escape\":\n            if (document.activeElement.id == \"chatInput\" && chatIsShown())\n                toggleChat();\n            else\n                isPaused() ? unpause() : pause();\n            break;\n    }\n\n    switch (Number(controlMethod.value)) {\n        case 0:\n            switch (e.code) {\n                case \"KeyW\":\n                case \"ArrowUp\":\n                    d.socket.emit(\"accelerate\", false);\n                    break;\n\n                case \"KeyS\":\n                case \"ArrowDown\":\n                    d.socket.emit(\"decelerate\", false);\n                    break;\n                \n                case \"KeyA\":\n                case \"ArrowLeft\":\n                    d.socket.emit(\"rotateleft\", false);\n                    break;\n\n                case \"KeyD\":\n                case \"ArrowRight\":\n                    d.socket.emit(\"rotateright\", false);\n                    break;\n            }\n            break;\n\n        case 1:\n            if (directions.hasOwnProperty(e.code)) {\n                if (keysDown.indexOf(e.code) != -1)\n                    keysDown.splice(keysDown.indexOf(e.code), 1);\n                redirect();\n                if (keysDown.length == 0)\n                    d.socket.emit(\"accelerate\", false);\n            }\n            break;\n\n    }\n}\n\nfunction mousemove(e) {\n    if (controlMethod.value == \"2\") {\n        let x = e.x - d.c.width/2;\n        let y = e.y - d.c.height/2;\n        let angle = Math.atan(y/x) * (180 / Math.PI);\n        if (x < 0)\n            angle += 180;\n        d.socket.emit(\"setangle\", Math.round(angle)+360);\n    }\n}\n\nfunction mousedown(e) {\n    if (controlMethod.value == \"2\")\n        d.socket.emit(\"accelerate\", true);\n}\n\nfunction mouseup(e) {\n    if (controlMethod.value == \"2\")\n        d.socket.emit(\"accelerate\", false);\n}\n        \nfunction resize(e) {\n    d.c.width = document.documentElement.clientWidth;\n    d.c.height = document.documentElement.clientHeight;\n}\n\nvar controlMethod;\n\nclass Events {\n    static register() {\n        window.addEventListener(\"keydown\", keydown);\n        window.addEventListener(\"keyup\", keyup);\n        window.addEventListener(\"mousemove\", mousemove);\n        window.addEventListener(\"mousedown\", mousedown);\n        window.addEventListener(\"mouseup\", mouseup);\n        window.addEventListener(\"resize\", resize);\n        \n        controlMethod = document.getElementById(\"controlMethod\");\n        resize();\n    }\n\n    static unregister() {\n        window.removeEventListener(\"keydown\", keydown);\n        window.removeEventListener(\"keyup\", keyup);\n        window.removeEventListener(\"resize\", resize);\n        window.removeEventListener(\"mousemove\", mousemove);\n        window.removeEventListener(\"mousedown\", mousedown);\n        window.removeEventListener(\"mouseup\", mouseup);\n    }\n}\n\nexport default Events;","import React from 'react';\nimport ReactDOM, { render } from 'react-dom';\nimport './index.css';\nimport disconnect from '../disconnect';\nimport connect from '../../serverbrowser/connect';\nimport ColorPicker from './colorpicker/';\nimport toggleUI from './toggleUI';\nimport d from '../../d'\n\nfunction pause() {\n    document.getElementById('pauseMenu').style.display = 'block';\n    document.getElementById('pauseButton').style.visibility = 'hidden';\n}\n\nfunction unpause() {\n    document.getElementById('pauseMenu').style.display = 'none';\n    document.getElementById('pauseButton').style.visibility = null;\n}\n\nfunction isPaused() {\n    return document.getElementById('pauseMenu').style.display == 'block';\n}\n\nfunction reconnect() {\n    unpause();\n    disconnect();\n    setTimeout(() => connect(d.server), 1);\n}\n\nfunction changeControl() {\n    let method = Number(document.getElementById('controlMethod').value);\n    let joystickDiv = document.getElementById('joystickControls');\n    if (method == 3) {\n        joystickDiv.style.display = '';\n    } else {\n        joystickDiv.style.display = 'none';\n    }\n    localStorage.controlMethod = method;\n}\n\nclass PauseMenu extends React.Component {\n    render() {\n        return (\n            <div>\n                <button id=\"pauseButton\" onClick={pause} style={{display: \"block\"}} />\n                <div id=\"pauseMenu\" style={{display: \"none\"}}>\n                    <center id=\"pauseMenuContents\">\n                        <button onClick={unpause}>Resume</button><br />\n                        <ColorPicker />\n                        <button onClick={toggleUI}>Toggle UI</button><br />\n                        <button onClick={reconnect}>New ship</button><br />\n                        <button onClick={() => disconnect()}>Disconnect</button><br />\n                        <label htmlFor=\"controlMethod\" style={{color: 'white'}}>Control method: </label>\n                        <select id=\"controlMethod\" onChange={changeControl} defaultValue={localStorage.hasOwnProperty('controlMethod') ? Number(localStorage.controlMethod) : 1}>\n                            <option value={0}>steer</option>\n                            <option value={1}>d-pad</option>\n                            <option value={2}>mouse</option>\n                            <option value={3}>joystick</option>\n                        </select>\n                        <hr />\n                        <p>\n                            Server: {d.server.url}<br />\n                            Ping: <span id=\"ping\">(pinging...)</span>ms<br />\n                            FPS: <span id=\"FPSDisplay\">(waiting for frame...)</span>\n                        </p>\n                    </center>\n                </div>\n            </div>\n        );\n    }\n\n    componentDidMount() {\n        if (!localStorage.hasOwnProperty('controlMethod') && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) //if client's device is a mobile device\n            document.getElementById('controlMethod').value = 3;\n        changeControl();\n    }\n}\n\nexport default PauseMenu;\n\nexport {\n    PauseMenu,\n    pause,\n    unpause,\n    isPaused,\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ServerBrowser from '../serverbrowser';\nimport d from '../d';\nimport Events from './events';\n\nfunction disconnect(alertMessage) {\n    if (d.socket == null)\n        return;\n    Events.unregister();\n    d.socket.removeAllListeners();\n    d.socket.close();\n    d.socket = null;\n    clearInterval(d.intervals.colliding);\n    clearInterval(d.intervals.draw);\n    ReactDOM.render(<ServerBrowser />, d.root);\n    if (alertMessage != null)\n        alert(alertMessage);\n}\n\nexport default disconnect;","import React from 'react';\nimport { SketchPicker } from 'react-color';\nimport './index.css';\nimport d from '../../../d';\n\nclass ColorPicker extends React.Component {\n    state = {\n        background: '#ffffff',\n    };\n\n    handleClick = () => {\n        this.setState({ displayColorPicker: !this.state.displayColorPicker });\n    };\n\n    handleChangeComplete = (color, event = null) => {\n        localStorage.color = color.hex;\n        d.socket.emit('changeColor', color.hex);\n    };\n\n    colors = [\n        \"#d48f22\",\n        \"#bd0808\",\n        \"#e91e63\",\n        \"#ff6bdc\",\n        \"#71157d\",\n        \"#1f138a\",\n        \"#49d1de\",\n        \"#38d674\",\n        \"#0dbd22\",\n        \"#fff45e\",\n        \"#9c9c9c\",\n        \"#363636\",\n        \"#7be3a8\",\n        \"#877be3\",\n        \"#6b6547\",\n    ];\n\n    render() {\n        if (!localStorage.hasOwnProperty('color'))\n            localStorage.color = '#ffffff';\n        d.socket.emit('changeColor', localStorage.color);\n        \n        return (\n            <div>\n                <button onClick={this.handleClick}>Toggle ship color picker</button>\n                {this.state.displayColorPicker ? <SketchPicker width=\"130px\" disableAlpha={true} color={localStorage.color} presetColors={this.colors} onChangeComplete={this.handleChangeComplete} /> : null}\n            </div>\n        );\n    }\n}\n\nexport default ColorPicker;","const toToggle = [\n    'info',\n    'throttle',\n    'throttleDisplay',\n    'map',\n    'mapDisplayChecks',\n    'chat',\n    'pauseButton'\n];\n\nvar hidden = false;\n\nfunction toggleUI() {\n    hidden = !hidden;\n    for (let i of toToggle)\n        document.getElementById(i).style.display = (hidden ? 'none' : null);\n}\n\nexport default toggleUI;","import React, { useEffect, useState } from 'react';\nimport GaugeChart from 'react-gauge-chart';\nimport './index.css';\nimport d from '../../d';\nconst decimalsShown = 1;\n\nfunction FuelGauge() {\n    const [currentPercent, setCurrentPercent] = useState();\n    const [arcs, setArcs] = useState([]); //this breaks on resize without this (part 1)\n\n    useEffect(() => {\n        const timer = setTimeout(() => {\n            setCurrentPercent(d.fuel.current / d.fuel.max);\n            setArcs([]); //this breaks on resize without this (part 2)\n        }, 1000);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    });\n\n    return (\n        <GaugeChart\n            id=\"fuelGauge\"\n            style={{width: 250}}\n            nrOfLevels={35}\n            percent={0}\n            colors={[\n                \"#ffffff\",\n                \"#3849ff\"\n            ]}\n            percent={currentPercent}\n            animDelay={0}\n            formatTextValue={val => {return `${val.toFixed(decimalsShown)}%`}}\n        />\n    );\n}\n\nexport default FuelGauge;","const planetDisplayMin = 1000;\nconst playerWidth = 4;\nconst selfWidth = 5;\nconst starWidth = 4;\n\nvar canvas, ctx, middleX, middleY, scale, pos;\n\nvar mouseDown = false;\n\n\nfunction getMapCanvas() {\n    canvas = document.getElementById('map');\n    ctx = canvas.getContext('2d');\n    canvas.requestPointerLock = canvas.requestPointerLock || canvas.mozRequestPointerLock;\n    document.exitPointerLock = document.exitPointerLock || document.mozExitPointerLock;\n    canvas.addEventListener('wheel', zoom);\n    canvas.addEventListener('mousemove', drag);\n    canvas.addEventListener('mousedown', () => {\n        document.getElementById('mapResetButton').style.display = '';\n        mouseDown = true;\n        canvas.requestPointerLock();\n    });\n    canvas.addEventListener('mouseup', () => {\n        mouseDown = false;\n        document.exitPointerLock();\n    });\n    \n    middleX = canvas.width/2;\n    middleY = canvas.height/2;\n    scale = 100;\n    pos = {\n        x: 0,\n        y: 0\n    };\n\n    document.getElementById('mapResetButton').style.display = 'none';\n}\n\nfunction zoom(event) {\n    document.getElementById('mapResetButton').style.display = '';\n    let scrollAmount = 3;\n    if (event.deltaY < 0)\n        scrollAmount *= -1;\n    let zoomAmount = 1 + (scrollAmount / 100);\n    if (scale * zoomAmount > 0) {\n        scale *= zoomAmount;\n        pos.x /= zoomAmount;\n        pos.y /= zoomAmount;\n    }\n}\n\nfunction drag(event) {\n    if (mouseDown) {\n        pos.x += event.movementX;\n        pos.y += event.movementY;\n    }\n}\n\nfunction drawDot(x, y, size) {\n    let offset = size/2;\n    ctx.fillRect(x - offset + pos.x, y - offset + pos.y, size, size)\n}\n\nfunction drawMap(bodies, center) {\n    ctx.clearRect(0, 0, canvas.width, canvas.height); //clear the canvas\n    if (!bodies[center]) return; //skip drawing the map this frame if the client's ship can't be found\n    let me = bodies[center];\n\n    for (let i in bodies) {\n        //skip this body if it is the client's ship\n        if (i == center)\n            continue;\n        let body = bodies[i];\n        if (body.shipId && !document.getElementById('showPlayers').checked)\n            continue;\n        let isStar = body.mass > planetDisplayMin;\n        if (isStar && !document.getElementById('showStars').checked)\n            continue;\n        if (!body.shipId && !isStar && !document.getElementById('showPlanets').checked)\n            continue;\n\n        ctx.fillStyle = body.color;\n        let distanceX = (body.x - me.x) / scale;\n        let distanceY = (body.y - me.y) / scale;\n        drawDot(middleX + distanceX, middleY + distanceY, body.shipId ? playerWidth : ((body.size/10) * (100/scale)));\n    }\n\n    if (document.getElementById('showSelf').checked) {\n        //draw the center dot (this client's ship)\n        ctx.fillStyle = me.color;\n        drawDot(middleX, middleY, selfWidth);\n    }\n}\n\nexport {\n    getMapCanvas,\n    drawMap\n};","import React from 'react';\nimport './index.css';\nimport { getMapCanvas } from './draw';\n\nclass Map extends React.Component {\n    render() {\n        return (\n            <div id=\"mapContainer\">\n                <div>\n                    <button id=\"mapResetButton\" onClick={getMapCanvas} />\n                    <br />\n                    <canvas id=\"map\" width={150} height={150}></canvas>\n                </div>\n\n                <div id=\"mapDisplayChecks\" style={{\n                    color: 'lightgrey',\n                    opacity: 0.28\n                }}>\n                    <input type=\"checkbox\" id=\"showSelf\" />\n                    <label htmlFor=\"showSelf\">Self</label>\n                    <br />\n                    <input type=\"checkbox\" id=\"showPlayers\" />\n                    <label htmlFor=\"showPlayers\">Players</label>\n                    <br />\n                    <input type=\"checkbox\" id=\"showStars\" />\n                    <label htmlFor=\"showStars\">Stars</label>\n                    <br />\n                    <input type=\"checkbox\" id=\"showPlanets\" />\n                    <label htmlFor=\"showPlanets\">Planets</label>\n                </div>\n            </div>\n        );\n    }\n\n    componentDidMount() {\n        for (let i of ['showSelf', 'showPlayers', 'showStars'])\n            document.getElementById(i).checked = true;\n    }\n}\n\nexport default Map;","import React from 'react';\nimport './shipSVG.css'\n\nconst shipScale = 1.6;\nconst SVGScale = 2;\nconst SVGSize = 16;\n\nlet shipPath = [\n    [0, -2],\n    [-3, -4],\n    [0, 4],\n    [3, -4],\n];\n\nlet addX = 3 + (2 / SVGScale);\nlet addY = 4;\n\n\nlet shipPath2D = new Path2D();\nfor (let i in shipPath) {\n    let pos = shipPath[i]\n    shipPath2D[i==0 ? 'moveTo' : 'lineTo'](pos[0]*shipScale, pos[1]*shipScale);\n}\nshipPath2D.closePath();\n\n\nfunction ShipSVG(props) {\n    let SVGData = \"\";\n    for (let i in shipPath) {\n        let pos = shipPath[i];\n        SVGData += `${(i==0 ? 'M' : 'L')}${(pos[0]+addX)*SVGScale} ${(pos[1]+addY)*SVGScale} `;\n    }\n    SVGData += \"Z\";\n\n    return (\n        <svg className={`player-icon-${props.type}`} height={SVGSize} width={SVGSize} transform={`rotate(${props.direction - 90})`}>\n            <path d={SVGData} fill={props.color} />\n        </svg>\n    );\n}\n\n\nexport {\n    shipPath2D,\n    ShipSVG\n};","import React from 'react';\nimport './index.css';\nimport d from '../../d';\nimport { toggleChat, chatButtonText } from './toggle';\nimport send from './send';\nimport { ShipSVG } from '../renderer/shipPath';\n\nconst chatColors = {\n    chat: '#ffffff',\n    action: '#f9ff47',\n};\n\nfunction Message(props) {\n    return(\n        <div className=\"chat-message\" style={{color: chatColors[props.message.type]}}>\n            {props.message.sender ? <ShipSVG type=\"sender\" color={props.message.sender.color} direction={props.message.sender.direction} /> : null}\n            {props.message.content ? <span>{props.message.content}</span> : null}\n            {props.message.receiver ? <ShipSVG type=\"receiver\" color={props.message.receiver.color} direction={props.message.receiver.direction} /> : null}\n            {props.message.append ? <span>{props.message.append}</span> : null}\n        </div>\n    );\n}\n\nclass Chat extends React.Component {\n    state = {\n        messages: [],\n    };\n\n    render() {\n        return (\n            <div id=\"chat\">\n                <button id=\"openChatButton\" onClick={toggleChat}>\n                    <span id=\"openChatButtonText\">{chatButtonText.open}</span>\n                    (<span id=\"messagesSentNum\">0</span>)\n                </button>\n                <div id=\"chatBox\">\n                    <div id=\"playersOnline\">\n                        Players online: <span id=\"playerCount\" />\n                    </div>\n                    <div id=\"chatMessages\">\n                        {this.state.messages}\n                        {/*<Message player={{colour: \"#654321\"}}>\n                            whoaaa!!!\n                        </Message>\n                        <div className=\"chat-message\">\n                            <svg className=\"player-icon\" height={16} width={16}>\n                                <circle cx={8} cy={8} r={8} fill=\"#123456\" />\n                            </svg>\n                            <span className=\"chat-message-text\">hi im chatting lol</span>\n                        </div>\n                        <div className=\"chat-message\">\n                            <svg className=\"player-icon\" height={16} width={16}>\n                                <circle cx={8} cy={8} r={8} fill=\"#123456\" />\n                            </svg>\n                            <span className=\"chat-message-text\">hi im chatting lol</span>\n                        </div>\n                        <div className=\"chat-message\">\n                            <svg className=\"player-icon\" height={16} width={16}>\n                                <circle cx={8} cy={8} r={8} fill=\"#123456\" />\n                            </svg>\n                            <span className=\"chat-message-text\">hi im chatting lol</span>\n                        </div>*/}\n                    </div>\n                    <div id=\"sendChat\">\n                        <input id=\"chatInput\" maxLength={100} />\n                        <button onClick={send}>Send</button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Chat;\n\nexport {\n    Chat,\n    Message,\n};","import React from 'react';\nimport { renderToString } from 'react-dom/server';\nimport { Chat, Message } from './index';\nimport d from '../../d';\nimport { chatIsShown } from './toggle';\n\nfunction receiveMessages() {\n    d.socket.on(\"message\", message => {\n        let chatDiv = document.getElementById('chatMessages')\n        chatDiv.innerHTML += renderToString(<Message message={message} />);\n        let children = document.getElementById('chatMessages').children;\n        let lastMessage = children[children.length - 1];\n        let scrollTopMax = chatDiv.scrollHeight - chatDiv.clientHeight - chatDiv.clientTop;\n        if (scrollTopMax - chatDiv.scrollTop < lastMessage.clientHeight + 5) {\n            chatDiv.scrollTop = scrollTopMax;\n        }\n        document.getElementById('messagesSentNum').innerHTML = children.length; //display the amount of messages sent on the open chat button\n\n        if (!chatIsShown()) //if the chat box is not open (and therefore the user is not aware that a new message has been posted)\n            document.getElementById('openChatButton').style.background = '#f56262'; //change the colour of the open chat button, to make it more obvious to the user that a message has been sent.\n    });\n}\n\nexport default receiveMessages;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport d from '../../d';\nimport Events from '../events';\nimport receiveMessages from '../chat/receive';\nimport disconnect from '../disconnect';\nimport { drawMap } from '../map/draw';\nimport { shipPath2D } from './shipPath';\n//setup canvas\nfunction startGame() {\n    var c = document.getElementById(\"mainCanvas\");\n    d.c = c;\n    var ctx = c.getContext(\"2d\");\n\n    var starmin = 1000;\n    var center = 0; //id of client\n    var players = []; //player list, doesn't contain physics details\n    var bodies = []; //object list\n\n    var lastFrame = Date.now();\n\n    function distance(a,b) {\n        return Math.abs(Math.sqrt(((a.x-b.x)*(a.x-b.x))+((a.y-b.y)*(a.y-b.y))));\n    }\n\n    function angle(a,b) { //returns angle between 2 points in radians\n        return Math.atan2(b.y - a.y, b.x - a.x);\n    }\n\n    class body{\n        constructor(x,y) {\n            this.x = x;\n            this.y = y;\n            this.xVel = 0;\n            this.yVel = 0;\n            this.bouncyness = 0.5;\n            this.mass = 10;\n            this.size = 10;\n            this.color = \"#FFFFFF\";\n            this.collided = false;\n            this.delete = false;\n            this.path = [];\n            this.pathMax = 100;\n            this.pathColor = \"#0000FF\";\n            this.invincible = false;\n            this.colliding = false;\n            this.angle = 0;\n            this.angularMomentum = 0;\n        }\n    }\n\n\n    var dirs = [false,false,false,false]\n\n\n\n    function draw(body) {\n        body.size = Math.sqrt((body.mass/body.density)/Math.PI)\n        body.path.push([body.x,body.y]);\n        ctx.strokeStyle = \"#FF0000\";//body.pathColor;\n        ctx.beginPath();\n        ctx.moveTo(body.path[0][0]-cOffsetx,body.path[0][1]-cOffsety);\n        for (let i of body.path)\n            ctx.lineTo(i[0]-cOffsetx,i[1]-cOffsety);\n        ctx.stroke();\n        if (body.path.length > body.pathMax)\n            body.path.splice(0,1);\n        var brightnessOffset = 50*(body.density*10);\n        //body.size = body.mass/10\n        var offset = 0\n        if (body.density > 3.5)\n            return;\n        if (body.mass > starmin) { //if star\n            for (let i = 0; i < 20; i++) { //layers of brightness\n                var tcolor = body.color;\n                tcolor = tcolor.replace(\")\",\",\"+0.05+\")\").replace(\"rgb(\",\"rgba(\");\n                ctx.fillStyle = tcolor;\n                ctx.strokeStyle = tcolor;\n                ctx.beginPath();\n                ctx.arc(body.x+offset-cOffsetx,body.y+offset-cOffsety,(body.size/2)+((i*(body.size/starmin))*brightnessOffset),0,2*Math.PI)\n                ctx.fill();\n                ctx.stroke();\n            }\n\n            for (let i of bodies) { //draw shadows\n                if (i.mass > starmin) { // ignore stars\n                    continue;\n                }\n                var d = distance(body,i) //get distance\n                if (d > (body.size/2)+(i.size/2) && d < (body.size/2)+((20*(body.size/starmin))*brightnessOffset)) { //if in light\n                    ctx.strokeStyle = \"#000000\";\n                    ctx.fillStyle = \"#000000\";\n                    var slength = ((body.size/2)+((20*(body.size/starmin))*brightnessOffset)) - d //length from object to edge of light\n                    slength *= 2;\n                    var twidth = ctx.lineWidth; //save old width\n                    let size = i.size;\n                    if (i.shipId != null) {\n                        size *= 8;\n                    }\n                    ctx.lineWidth = 1;//= size; //width of shadow\n                    \n                    let a = angle(body,i); // angle from star to planet\n                    ctx.beginPath();\n                    //ctx.moveTo(i.x-cOffsetx,i.y-cOffsety);\n                    var sc = {x:(Math.cos(a)*body.size/2)+body.x,y:(Math.sin(a)*body.size/2)+body.y};//shadow start on star's surface\n                    let ra = a+(Math.PI/2);\n                    let rx = (Math.cos(ra)*(size/2))+i.x;\n                    let ry = (Math.sin(ra)*(size/2))+i.y;\n                    let a1 = angle(sc, {x: rx, y: ry});\n                    ctx.moveTo(rx-cOffsetx,ry-cOffsety)\n                    ctx.lineTo(((rx+(Math.cos(a1)*slength))-cOffsetx),((ry+(Math.sin(a1)*slength))-cOffsety));\n                    let la = a+((Math.PI/2)*3);\n                    let lx = (Math.cos(la)*(size/2))+i.x;\n                    let ly = (Math.sin(la)*(size/2))+i.y;\n                    let a2 = angle(sc, {x: lx, y: ly});\n                    ctx.lineTo(((lx+(Math.cos(a2)*slength))-cOffsetx),((ly+(Math.sin(a2)*slength))-cOffsety));\n                    ctx.lineTo(lx-cOffsetx,ly-cOffsety)\n                    ctx.closePath();\n                    ctx.fill(); // draw shadow\n                    ctx.stroke(); // draw shadow\n                    ctx.lineWidth = twidth;\n                }\n            }\n        }\n\n\n\n        ctx.fillStyle = body.color;\n            ctx.strokeStyle = body.color;\n            if (body.shipId == null) {\n\n                ctx.beginPath();\n                ctx.arc(body.x+offset-cOffsetx,body.y+offset-cOffsety,body.size/2,0,2*Math.PI)\n                ctx.fill();\n                ctx.stroke();\n\n\n            } else {\n                let a = (body.angle - 90) * (Math.PI/180);\n                ctx.translate(body.x+offset-cOffsetx,body.y+offset-cOffsety);\n                ctx.rotate(a);\n                ctx.stroke(shipPath2D);\n                ctx.fill(shipPath2D);\n                ctx.rotate(-a);\n                ctx.translate(-(body.x+offset-cOffsetx),-(body.y+offset-cOffsety));\n            }\n\n        //normal planet drawing\n        ctx.shadowBlur = 0;\n        ctx.fillStyle = \"#FF0000\";\n        ctx.strokeStyle = \"#FF0000\";\n        //ctx.fillRect(this.x-cOffsetx,this.y-cOffsety,1,1)\n        ctx.beginPath();\n        ctx.moveTo(body.x-cOffsetx,body.y-cOffsety)\n        var scale = 20;\n        ctx.lineTo((body.xVel*scale)+body.x-cOffsetx,(body.yVel*scale)+body.y-cOffsety);\n        ctx.stroke();\n        if (body.nuke) {\n            ctx.fillStyle = \"#FFFF00\";\n            ctx.strokeStyle = \"#FFFF00\";\n            ctx.fillText(\"*\",body.x,body.y)\n        }\n        twidth = ctx.lineWidth\n        ctx.lineWidth = 100;\n        if(body.texture){\n            for(let t of body.texture){\n                let temp = {\n                    sx: (t.sx * Math.cos(body.angle)) - (t.sy * Math.sin(body.angle)),\n                    sy: (t.sx * Math.sin(body.angle)) + (t.sy * Math.cos(body.angle)),\n                    ex: (t.ex * Math.cos(body.angle)) - (t.ey * Math.sin(body.angle)),\n                    ey: (t.ex * Math.sin(body.angle)) + (t.ey * Math.cos(body.angle)),\n                };\n                ctx.strokeStyle = t.color;\n                ctx.lineWidth = t.width;\n                ctx.beginPath();\n                ctx.moveTo((temp.sx+body.x)-cOffsetx,(temp.sy+body.y)-cOffsety);\n                ctx.lineTo((temp.ex+body.x)-cOffsetx,(temp.ey+body.y)-cOffsety);\n                ctx.stroke();\n            }\n        }\n        ctx.lineWidth = twidth;\n        //ctx.fillRect(this.x-offset,this.y-offset,this.size,this.size);\n    }\n\n    Events.register();\n\n    var cOffsetx = 0;\n    var cOffsety = 0\n\n    d.intervals.draw = setInterval(function() {\n        if (bodies.length > 0) {\n            cOffsetx = bodies[center].x-c.width/2;\n            cOffsety = bodies[center].y-c.height/2;\n        }\n        players = [];\n        for (let i in bodies) {\n            if (i != center && bodies[i].shipId != null) {\n                players.push(i);\n            }\n        }\n        ctx.fillStyle = \"#000000\";\n        ctx.fillRect(0,0,c.width,c.height);\n        if (bodies[center] != undefined) {\n            for (let i of bodies) {\n                if (distance(i,bodies[center]) < d.c.width*3) {\n                    draw(i);\n                }\n            }\n        }\n\n        drawMap(bodies, center);\n\n        if (bodies[center] == null) {\n            return;\n        }\n\n        let currentFrame = Date.now();\n\n        document.getElementById(\"speedspan\").innerHTML = Math.round(Math.sqrt((bodies[center].yVel*bodies[center].yVel)+(bodies[center].xVel*bodies[center].xVel))*100)/100\n        document.getElementById(\"xcoord\").innerHTML = Math.round(bodies[center].x)\n        document.getElementById(\"ycoord\").innerHTML = Math.round(bodies[center].y)\n        document.getElementById(\"playerCount\").innerHTML = players.length + 1;\n        document.getElementById(\"FPSDisplay\").innerHTML = Math.round(1000 / (currentFrame - lastFrame));\n\n        lastFrame = currentFrame;\n    },50);\n\n    var myid = 0;\n\n    d.socket.on(\"connect\",function() {\n        myid = d.socket.id;\n    });\n\n    d.socket.on(\"pong\", ms => {\n        document.getElementById('ping').innerHTML = ms;\n    });\n\n    d.socket.on(\"kick\", kickMessage => {\n        setTimeout(() => {\n            disconnect(kickMessage);\n        }, 500);\n    })\n\n    d.socket.on(\"disconnect\", () => {\n        setTimeout(() => {\n            disconnect(\"Communication between you and the server was interrupted.\");\n        }, 750);\n    });\n\n    d.socket.on(\"fuelUpdate\", fuel => {\n        d.fuel.current = fuel;\n    });\n\n    d.socket.on(\"fuelUsageUpdate\", fuelUsage => {\n        d.fuel.currentUsage = fuelUsage;\n    });\n\n    d.socket.on(\"bodyupdate\",function(b) {\n        bodies = JSON.parse(b);\n        let foundCenter = false;\n        for (let i in bodies) {\n            if (bodies[i].shipId != null) {\n                let id = bodies[i].shipId\n                if (id == myid) {\n                    center = i;\n                    foundCenter = true;\n                }\n            }\n        }\n        if (!foundCenter) {\n            center = 0;\n            d.socket.emit(\"newShip\");\n        }\n    });\n\n    d.socket.on(\"center\",function(k) {\n        center = k;\n    });\n\n    receiveMessages();\n}\n\nexport default startGame;","import d from '../d';\n\nfunction getServerInfo() {\n    let xmlHttp = new XMLHttpRequest();\n    xmlHttp.onreadystatechange = function() { \n        if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {\n            let serverInfo = JSON.parse(xmlHttp.responseText);\n\n            d.fuel.max = serverInfo.fuelMax;\n        }\n    }\n    xmlHttp.open(\"GET\", `http${d.server.secure ? 's' : ''}://${d.server.url}/detailedinfo`, true);\n    xmlHttp.send(null);\n}\n\nexport default getServerInfo;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport JoyWrapper from './joystick/';\nimport PauseMenu from './menu/';\nimport Throttle from './throttle/';\nimport FuelGauge from './fuelGauge/';\nimport Map from './map/';\nimport { getMapCanvas } from './map/draw';\nimport startGame from './renderer/';\nimport getServerInfo from './getServerInfo';\nimport Chat from './chat/';\n\nclass Game extends React.Component {\n    render() {\n        return (\n            <div>\n                <canvas id=\"mainCanvas\" />\n                <div id=\"info\">\n                    velocity: <span id=\"speedspan\"></span>km/s<br />\n                    x: <span id=\"xcoord\"></span> y: <span id=\"ycoord\"></span>\n                </div>\n                <JoyWrapper />\n                <PauseMenu />\n                <FuelGauge />\n                <Throttle />\n                <Map />\n                <Chat />\n            </div>\n        );\n    }\n\n    componentDidMount() {\n        getMapCanvas();\n        getServerInfo();\n        startGame();\n    }\n}\n\nexport default Game;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport socketIOClient from \"socket.io-client\";\nimport Game from '../game';\nimport d from '../d';\n\nfunction connect(server) {\n    d.socket = socketIOClient(`ws${server.secure ? \"s\" : \"\"}://${server.url}`, {transports: ['websocket']});\n    d.server = server;\n    // on reconnection, reset the transports option, as the Websocket connection may have failed (caused by proxy, firewall, browser, ...)\n    d.socket.on('reconnect_attempt', () => {\n        d.socket.io.opts.transports = ['polling', 'websocket'];\n    });\n    ReactDOM.render(<Game />, d.root);\n}\n\nexport default connect;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport githubIcon from './github.png';\nimport connect from './connect';\nimport d from '../d';\nimport serverList from './serverlist';\n\nfunction toTime(n) {\n    let output = \"\";\n    if (n > 86400)\n        output += Math.floor(n / 86400)+\":\";\n    if (n > 3600)\n        output += (Math.floor((n / 3600) % 24)).toString().padStart(2, \"0\")+\":\";\n    output += (Math.floor((n / 60) % 60)).toString().padStart(2, \"0\")+\":\"+(n % 60).toString().padStart(2, \"0\");\n    return output;\n}\n\nfunction directConnect() {\n    let address = document.getElementById('toConnect').value;\n    while (address[address.length - 1] == '/')\n        address = address.slice(0, -1);\n    let server = {\n        url: address,\n        secure: false,\n    };\n    if (address.startsWith('http://')) {\n        server.url = address.slice('http://'.length);\n    } else if (address.startsWith('https://')) {\n        server.url = address.slice('https://'.length);\n        server.secure = true;\n    }\n    connect(server);\n}\n\nasync function refresh() {\n    await ReactDOM.render(<div />, d.root);\n    ReactDOM.render(<ServerBrowser />, d.root);\n}\n\nclass ServerBrowser extends React.Component {\n    constructor(props) {\n        super(props); \n        this.state = {\n            servers: []\n        };\n    }\n\n    render() {\n        if (d.socket != null) {\n            d.socket.close();\n            d.socket = null;\n        }\n\n        return (\n            <div>\n                <h1>\n                    space-sim\n                    <br />\n                    <a href=\"https://github.com/xXDerpyXx/space-sim\" >\n                        <img className=\"social-icon\" src=\"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\" />\n                    </a>\n                    <a href=\"https://discord.gg/mU4xTzK\" >\n                        <img className=\"social-icon\" src=\"https://discord.com/assets/41484d92c876f76b20c7f746221e8151.svg\" height=\"32\" />\n                    </a>\n                </h1>\n\n                <label>Direct connect:</label>\n                <br />\n                <input id=\"toConnect\" placeholder=\"Address\" onKeyUp={e => {\n                    if (e.key === 'Enter')\n                        directConnect();\n                }} />\n                <button onClick={directConnect}>Connect</button>\n\n                <br />\n                <br />\n\n                <label>\n                    Official serverlist\n                    <button onClick={refresh} style={{fontSize: '18px'}}></button>\n                    :\n                </label>\n                <table id=\"serverList\">\n                    <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th>Address</th>\n                            <th>Players</th>\n                            <th>Time left</th>\n                            <th>Location</th>\n                        </tr>\n                    </thead>\n\n                    <tbody>\n                        {this.state.servers}\n                    </tbody>\n                </table>\n                <br/>   \n            </div>\n        );\n    }\n\n    componentDidMount() {\n        let serverListComponent = this;\n        let servers = [];\n        let secure = window.location.protocol == \"https:\";\n        for (let server of serverList) {\n            if (secure && !server.secure)\n                continue;\n\n            let xmlHttp = new XMLHttpRequest();\n            xmlHttp.onreadystatechange = function() { \n                if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {\n                    let serverInfo = JSON.parse(xmlHttp.responseText);\n\n                    serverListComponent.setState(prevState => ({\n                        servers: [...prevState.servers, (\n                            <tr key={prevState.servers.length} onClick={() => connect(server)}>\n                                <td>{serverInfo.name}</td>\n                                <td>{server.url}</td>\n                                <td className=\"centered\">{serverInfo.players}</td>\n                                <td className=\"centered\">{serverInfo.timeLeft ? toTime(Math.round(serverInfo.timeLeft / 1000)) : null}</td>\n                                <td className=\"centered\">{serverInfo.location}</td>\n                                {/*<td><button className=\"connectButton\" onClick={() => connect(server)}>Connect</button></td>*/}\n                            </tr>\n                        )]\n                    }));\n                }\n            }\n            xmlHttp.open(\"GET\", `http${server.secure ? 's' : ''}://${server.url}/basicinfo`, true);\n            xmlHttp.send(null);\n        }\n    }\n}\n\nexport default ServerBrowser;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport ServerBrowser from './serverbrowser';\nimport Game from './game';\nimport d from './d';\n\nReactDOM.render(<ServerBrowser />, d.root);"],"sourceRoot":""}