(this["webpackJsonpspace-sim"]=this["webpackJsonpspace-sim"]||[]).push([[0],{120:function(e){e.exports=JSON.parse('[{"url":"localhost:3979","secure":false},{"url":"derpy.live:3979","secure":false},{"url":"ss.flynna.uk","secure":true}]')},122:function(e,t,n){e.exports=n(328)},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg=="},151:function(e,t){},156:function(e,t,n){},157:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},325:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(13),o=n.n(c),r=(n(127),n(121)),i=n(16),s=n(3),u=n(4),m=n(6),d=n(5),h=(n(128),n(129),n(116)),p=n.n(h),y=(n(156),n(42)),v=n(117),E=n.n(v),f={intervals:{},socket:null,server:null,root:document.getElementById("root")},g={mode:"dynamic",catchDistance:150,color:"white"},b={position:"relative",height:"4000px",width:"100%",background:"rgba(0, 0, 0, 0)"},k=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).managerListener=e.managerListener.bind(Object(y.a)(e)),e}return Object(u.a)(n,[{key:"managerListener",value:function(e){e.on("start",(function(){f.socket.emit("accelerate",!0)})),e.on("end",(function(){f.socket.emit("accelerate",!1)})),e.on("move",(function(e,t){f.socket.emit("setangle",360-t.angle.degree)}))}},{key:"render",value:function(){this.props.classes;return l.a.createElement("div",{id:"joystickControls",style:{display:"none"}},l.a.createElement(E.a,{joyOptions:g,containerStyle:b,managerListener:this.managerListener}))}}]),n}(l.a.Component),w={open:"+Chat",close:"-Chat"};function M(){return"block"==document.getElementById("chatBox").style.display}function I(){var e=M();document.getElementById("chatBox").style.display=e?"none":"block",document.getElementById("openChatButtonText").innerHTML=w[e?"open":"close"]}var B=function(){var e=document.getElementById("chatInput");""!=e.value&&(f.socket.emit("sendMessage",e.value),e.value="")};n(157);var A=function(){null!=f.socket&&(_.unregister(),f.socket.removeAllListeners(),f.socket.close(),f.socket=null,clearInterval(f.intervals.colliding),clearInterval(f.intervals.draw),o.a.render(l.a.createElement(Be,null),f.root))},x=n(118),S=(n(322),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={background:"#000000"},e.handleClick=function(){e.setState({displayColorPicker:!e.state.displayColorPicker})},e.handleChangeComplete=function(e){f.socket.emit("changeColor",e.hex)},e.colors=["#d48f22","#bd0808","#e91e63","#ff6bdc","#71157d","#1f138a","#49d1de","#38d674","#0dbd22","#fff45e","#9c9c9c","#363636","#7be3a8","#877be3","#6b6547"],e}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("button",{onClick:this.handleClick},"Toggle ship color picker"),this.state.displayColorPicker?l.a.createElement(x.SketchPicker,{width:"130px",disableAlpha:!0,presetColors:this.colors,onChangeComplete:this.handleChangeComplete}):null)}}]),n}(l.a.Component)),j=["info","throttle","throttleDisplay","map","mapDisplayChecks","chat","pauseButton"],L=!1;var O=function(){L=!L;var e,t=Object(i.a)(j);try{for(t.s();!(e=t.n()).done;){var n=e.value;document.getElementById(n).style.display=L?"none":null}}catch(a){t.e(a)}finally{t.f()}};function T(){document.getElementById("pauseMenu").style.display="block",document.getElementById("pauseButton").style.visibility="hidden"}function P(){document.getElementById("pauseMenu").style.display="none",document.getElementById("pauseButton").style.visibility=null}function C(){P(),A(),setTimeout((function(){return we(f.server)}),1)}function D(){var e=Number(document.getElementById("controlMethod").value),t=document.getElementById("joystickControls");t.style.display=3==e?"":"none"}var N=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("button",{id:"pauseButton",onClick:T,style:{display:"block"}}),l.a.createElement("div",{id:"pauseMenu",style:{display:"none"}},l.a.createElement("center",{id:"pauseMenuContents"},l.a.createElement("button",{onClick:P},"Resume"),l.a.createElement("br",null),l.a.createElement(S,null),l.a.createElement("button",{onClick:O},"Toggle UI"),l.a.createElement("br",null),l.a.createElement("button",{onClick:C},"New ship"),l.a.createElement("br",null),l.a.createElement("button",{onClick:A},"Disconnect"),l.a.createElement("br",null),l.a.createElement("label",{for:"controlMethod",style:{color:"white"}},"Control method: "),l.a.createElement("select",{id:"controlMethod",onChange:D},l.a.createElement("option",{value:0},"steer"),l.a.createElement("option",{value:1},"d-pad"),l.a.createElement("option",{value:2},"mouse"),l.a.createElement("option",{value:3},"joystick")),l.a.createElement("hr",null),l.a.createElement("p",null,"Server: ",f.server.url,l.a.createElement("br",null),"Ping: ",l.a.createElement("span",{id:"ping"},"(pinging...)"),"ms",l.a.createElement("br",null),"FPS: ",l.a.createElement("span",{id:"FPSDisplay"},"(waiting for frame...)")))))}},{key:"componentDidMount",value:function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(document.getElementById("controlMethod").value=3),D()}}]),n}(l.a.Component);n(323);function R(){var e=Number(document.getElementById("throttle").value);document.getElementById("throttleDisplay").innerHTML=e.toFixed(2),f.socket.emit("throttle",e)}var J,Z=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{id:"throttleDiv"},l.a.createElement("input",{id:"throttle",type:"range",orient:"vertical",onChange:R,min:0,max:1,step:.01}),l.a.createElement("span",{id:"throttleDisplay",style:{color:"white"}}))}},{key:"componentDidMount",value:function(){document.getElementById("throttle").value=.2,R()}}]),n}(l.a.Component),W={ArrowRight:0,ArrowDown:90,ArrowLeft:180,ArrowUp:270,KeyD:0,KeyS:90,KeyA:180,KeyW:270,Numpad6:0,Numpad3:45,Numpad2:90,Numpad1:135,Numpad4:180,Numpad7:225,Numpad8:270,Numpad9:315},z=[];function H(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function U(e){return Math.PI/180*e}function Y(){if(z.length>0){var e,t=[],n=Object(i.a)(z);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(W[a])}}catch(c){n.e(c)}finally{n.f()}for(var l=180/Math.PI*Math.atan2(H(t.map(U).map(Math.sin))/t.length,H(t.map(U).map(Math.cos))/t.length);l<360;)l+=360;f.socket.emit("setangle",l)}}function F(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=document.getElementById("throttle"),n=Number(t.value)+Number(t.step)*(2*Number(e)-1);n>=Number(t.min)&&n<=Number(t.max)&&(t.value=n,R())}function G(e){if("chatInput"!=document.activeElement.id){switch(e.code){case"Minus":case"ControlLeft":case"ControlRight":F(!1);break;case"Equal":case"ShiftLeft":case"ShiftRight":F(!0);break;case"KeyJ":f.socket.emit("hyperjump");break;case"Space":f.socket.emit("nuke")}switch(Number(J.value)){case 0:switch(e.code){case"KeyW":case"ArrowUp":f.socket.emit("accelerate",!0);break;case"KeyS":case"ArrowDown":f.socket.emit("decelerate",!0);break;case"KeyA":case"ArrowLeft":f.socket.emit("rotateleft",!0);break;case"KeyD":case"ArrowRight":f.socket.emit("rotateright",!0)}break;case 1:W.hasOwnProperty(e.code)&&(-1==z.indexOf(e.code)&&z.push(e.code),Y(),1==z.length&&f.socket.emit("accelerate",!0))}}}function X(e){switch(e.code){case"KeyT":M()||I(),"chatInput"!=document.activeElement.id&&document.getElementById("chatInput").focus();break;case"Enter":"chatInput"==document.activeElement.id&&B();break;case"Escape":"chatInput"==document.activeElement.id&&M()?I():"block"==document.getElementById("pauseMenu").style.display?P():T()}switch(Number(J.value)){case 0:switch(e.code){case"KeyW":case"ArrowUp":f.socket.emit("accelerate",!1);break;case"KeyS":case"ArrowDown":f.socket.emit("decelerate",!1);break;case"KeyA":case"ArrowLeft":f.socket.emit("rotateleft",!1);break;case"KeyD":case"ArrowRight":f.socket.emit("rotateright",!1)}break;case 1:W.hasOwnProperty(e.code)&&(-1!=z.indexOf(e.code)&&z.splice(z.indexOf(e.code),1),Y(),0==z.length&&f.socket.emit("accelerate",!1))}}function Q(e){if("2"==J.value){var t=e.x-f.c.width/2,n=e.y-f.c.height/2,a=Math.atan(n/t)*(180/Math.PI);t<0&&(a+=180),f.socket.emit("setangle",Math.round(a)+360)}}function K(e){"2"==J.value&&f.socket.emit("accelerate",!0)}function V(e){"2"==J.value&&f.socket.emit("accelerate",!1)}function q(e){f.c.width=document.documentElement.clientWidth,f.c.height=document.documentElement.clientHeight}var _=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"register",value:function(){window.addEventListener("keydown",G),window.addEventListener("keyup",X),window.addEventListener("mousemove",Q),window.addEventListener("mousedown",K),window.addEventListener("mouseup",V),window.addEventListener("resize",q),J=document.getElementById("controlMethod"),q()}},{key:"unregister",value:function(){window.removeEventListener("keydown",G),window.removeEventListener("keyup",X),window.removeEventListener("resize",q),window.removeEventListener("mousemove",Q),window.removeEventListener("mousedown",K),window.removeEventListener("mouseup",V)}}]),e}(),$=n(119),ee=(n(325),n(326),[[0,-2],[-3,-4],[0,4],[3,-4]]),te=new Path2D;for(var ne in ee){var ae=ee[ne];te[0==ne?"moveTo":"lineTo"](1.6*ae[0],1.6*ae[1])}function le(e){var t="";for(var n in ee){var a=ee[n];t+="".concat(0==n?"M":"L").concat(2*(a[0]+4)," ").concat(2*(a[1]+4)," ")}return t+="Z",l.a.createElement("svg",{className:"player-icon",height:16,width:16,transform:"rotate(".concat(e.direction-90,")")},l.a.createElement("path",{d:t,fill:e.color}))}function ce(e){return l.a.createElement("div",{className:"chat-message"},l.a.createElement(le,{color:e.player.color,direction:e.player.direction}),l.a.createElement("span",{className:"chat-message-text"},e.children))}te.closePath();var oe=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={messages:[]},e}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{id:"chat"},l.a.createElement("button",{id:"openChatButton",onClick:I},l.a.createElement("span",{id:"openChatButtonText"},w.open),"(",l.a.createElement("span",{id:"messagesSentNum"},"0"),")"),l.a.createElement("div",{id:"chatBox"},l.a.createElement("div",{id:"chatMessages"},this.state.messages),l.a.createElement("div",{id:"sendChat"},l.a.createElement("input",{id:"chatInput",maxLength:100}),l.a.createElement("button",{onClick:B},"Send"))))}}]),n}(l.a.Component);var re,ie,se,ue,me,de,he=function(){f.socket.on("message",(function(e,t){console.log(e);var n=document.getElementById("chatMessages");n.innerHTML+=Object($.renderToString)(l.a.createElement(ce,{player:e},t));var a=document.getElementById("chatMessages").children,c=a[a.length-1],o=n.scrollHeight-n.clientHeight-n.clientTop;o-n.scrollTop<c.clientHeight+5&&(n.scrollTop=o),document.getElementById("messagesSentNum").innerHTML=a.length}))},pe=!1;function ye(){re=document.getElementById("map"),ie=re.getContext("2d"),re.requestPointerLock=re.requestPointerLock||re.mozRequestPointerLock,document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock,re.addEventListener("wheel",ve),re.addEventListener("mousemove",Ee),re.addEventListener("mousedown",(function(){document.getElementById("mapResetButton").style.display="",pe=!0,re.requestPointerLock()})),re.addEventListener("mouseup",(function(){pe=!1,document.exitPointerLock()})),se=re.width/2,ue=re.height/2,me=100,de={x:0,y:0},document.getElementById("mapResetButton").style.display="none"}function ve(e){document.getElementById("mapResetButton").style.display="";var t=3;e.deltaY<0&&(t*=-1);var n=1+t/100;me*n>0&&(me*=n,de.x/=n,de.y/=n)}function Ee(e){pe&&(de.x+=e.movementX,de.y+=e.movementY)}function fe(e,t,n){var a=n/2;ie.fillRect(e-a+de.x,t-a+de.y,n,n)}var ge=function(){var e=document.getElementById("mainCanvas");f.c=e;var t=e.getContext("2d"),n=0,a=[],l=[],c=Date.now();function o(e,t){return Math.abs(Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)))}function r(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}function s(e){e.size=Math.sqrt(e.mass/e.density/Math.PI),e.path.push([e.x,e.y]),t.strokeStyle="#FF0000",t.moveTo(e.path[0][0]-u,e.path[0][1]-m);for(var n=0;n<e.path.length;n++)t.lineTo(e.path[n][0]-u,e.path[n][1]-m);t.stroke(),e.path.length>e.pathMax&&e.path.splice(0,1);var a=10*e.density*50;if(!(e.density>3.5)){if(e.mass>1e3){for(var c=0;c<20;c++){var i=e.color;i=i.replace(")",",0.05)").replace("rgb(","rgba("),t.fillStyle=i,t.strokeStyle=i,t.beginPath(),t.arc(e.x+0-u,e.y+0-m,e.size/2+c*(e.size/1e3)*a,0,2*Math.PI),t.fill(),t.stroke()}for(var s=0;s<l.length;s++)if(!(l[s].mass>1e3)){var d=o(e,l[s]);if(d>e.size/2+l[s].size/2&&d<e.size/2+e.size/1e3*20*a){t.strokeStyle="#000000",t.fillStyle="#000000";var h=e.size/2+e.size/1e3*20*a-d;h*=2;var p=t.lineWidth,y=l[s].size;null!=l[s].shipId&&(y*=8),t.lineWidth=1;var v=r(e,l[s]);t.beginPath();var E={x:Math.cos(v)*e.size/2+e.x,y:Math.sin(v)*e.size/2+e.y},f=v+Math.PI/2,g=Math.cos(f)*(y/2)+l[s].x,b=Math.sin(f)*(y/2)+l[s].y,k=r(E,{x:g,y:b});t.moveTo(g-u,b-m),t.lineTo(g+Math.cos(k)*h-u,b+Math.sin(k)*h-m);var w=v+Math.PI/2*3,M=Math.cos(w)*(y/2)+l[s].x,I=Math.sin(w)*(y/2)+l[s].y,B=r(E,{x:M,y:I});t.lineTo(M+Math.cos(B)*h-u,I+Math.sin(B)*h-m),t.lineTo(M-u,I-m),t.closePath(),t.fill(),t.stroke(),t.lineWidth=p}}}if(t.fillStyle=e.color,t.strokeStyle=e.color,null==e.shipId)t.beginPath(),t.arc(e.x+0-u,e.y+0-m,e.size/2,0,2*Math.PI),t.fill(),t.stroke();else{var A=(e.angle-90)*(Math.PI/180);t.translate(e.x+0-u,e.y+0-m),t.rotate(A),t.stroke(te),t.fill(te),t.rotate(-A),t.translate(-(e.x+0-u),-(e.y+0-m))}t.shadowBlur=0,t.fillStyle="#FF0000",t.strokeStyle="#FF0000",t.beginPath(),t.moveTo(e.x-u,e.y-m);t.lineTo(20*e.xVel+e.x-u,20*e.yVel+e.y-m),t.stroke(),e.nuke&&(t.fillStyle="#FFFF00",t.fillText("*",e.x,e.y))}}_.register();var u=0,m=0;f.intervals.draw=setInterval((function(){for(var r in l.length>0&&(u=l[n].x-e.width/2,m=l[n].y-e.height/2),a=[],l)r!=n&&null!=l[r].shipId&&a.push(r);if(t.fillStyle="#000000",t.fillRect(0,0,e.width,e.height),void 0!=l[n]){var d,h=Object(i.a)(l);try{for(h.s();!(d=h.n()).done;){var p=d.value;o(p,l[n])<3*f.c.width&&s(p)}}catch(v){h.e(v)}finally{h.f()}}if(function(e,t){if(ie.clearRect(0,0,re.width,re.height),e[t]){var n=e[t];for(var a in e)if(a!=t){var l=e[a];if(!l.shipId||document.getElementById("showPlayers").checked){var c=l.mass>1e3;if((!c||document.getElementById("showStars").checked)&&(l.shipId||c||document.getElementById("showPlanets").checked)){ie.fillStyle=l.color;var o=(l.x-n.x)/me,r=(l.y-n.y)/me;fe(se+o,ue+r,l.shipId?4:l.size/10*(100/me))}}}document.getElementById("showSelf").checked&&(ie.fillStyle=n.color,fe(se,ue,5))}}(l,n),null!=l[n]){var y=Date.now();document.getElementById("speedspan").innerHTML=Math.round(100*Math.sqrt(l[n].yVel*l[n].yVel+l[n].xVel*l[n].xVel))/100,document.getElementById("xcoord").innerHTML=Math.round(l[n].x),document.getElementById("ycoord").innerHTML=Math.round(l[n].y),document.getElementById("playersOnline").innerHTML=a.length+1,document.getElementById("FPSDisplay").innerHTML=Math.round(1e3/(y-c)),c=y}}),50);var d=0;f.socket.on("connect",(function(){d=f.socket.id})),f.socket.on("pong",(function(e){document.getElementById("ping").innerHTML=e})),f.socket.on("kick",(function(e){setTimeout((function(){A(),alert(e)}),500)})),f.socket.on("disconnect",(function(){setTimeout((function(){A(),alert("Communication between you and the server was interrupted.")}),500)})),f.socket.on("bodyupdate",(function(e){l=JSON.parse(e);var t=!1;for(var a in l){if(null!=l[a].shipId)l[a].shipId==d&&(n=a,t=!0)}t||(n=0,f.socket.emit("newShip"))})),f.socket.on("center",(function(e){n=e})),he()},be=(n(327),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{id:"mapContainer"},l.a.createElement("div",null,l.a.createElement("button",{id:"mapResetButton",onClick:ye}),l.a.createElement("br",null),l.a.createElement("canvas",{id:"map",width:150,height:150})),l.a.createElement("div",{id:"mapDisplayChecks",style:{color:"lightgrey",opacity:.28}},l.a.createElement("input",{type:"checkbox",id:"showSelf"}),l.a.createElement("label",{for:"showSelf"},"Self"),l.a.createElement("br",null),l.a.createElement("input",{type:"checkbox",id:"showPlayers"}),l.a.createElement("label",{for:"showPlayers"},"Players"),l.a.createElement("br",null),l.a.createElement("input",{type:"checkbox",id:"showStars"}),l.a.createElement("label",{for:"showStars"},"Stars"),l.a.createElement("br",null),l.a.createElement("input",{type:"checkbox",id:"showPlanets"}),l.a.createElement("label",{for:"showPlanets"},"Planets")))}},{key:"componentDidMount",value:function(){for(var e=0,t=["showSelf","showPlayers","showStars"];e<t.length;e++){var n=t[e];document.getElementById(n).checked=!0}}}]),n}(l.a.Component)),ke=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("canvas",{id:"mainCanvas"}),l.a.createElement("div",{id:"info"},"velocity: ",l.a.createElement("span",{id:"speedspan"}),"km/s",l.a.createElement("br",null),"x: ",l.a.createElement("span",{id:"xcoord"})," y: ",l.a.createElement("span",{id:"ycoord"}),l.a.createElement("br",null),"players online: ",l.a.createElement("span",{id:"playersOnline"})),l.a.createElement(k,null),l.a.createElement(N,null),l.a.createElement(Z,null),l.a.createElement(be,null),l.a.createElement(oe,null))}},{key:"componentDidMount",value:function(){ye(),ge()}}]),n}(l.a.Component);var we=function(e){f.socket=p()("ws".concat(e.secure?"s":"","://").concat(e.url),{transports:["websocket"]}),f.server=e,f.socket.on("reconnect_attempt",(function(){f.socket.io.opts.transports=["polling","websocket"]})),o.a.render(l.a.createElement(ke,null),f.root)},Me=n(120);function Ie(){for(var e=document.getElementById("toConnect").value;"/"==e[e.length-1];)e=e.slice(0,-1);var t={url:e,secure:!1};e.startsWith("http://")?t.url=e.slice("http://".length):e.startsWith("https://")&&(t.url=e.slice("https://".length),t.secure=!0),we(t)}var Be=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={servers:[]},a}return Object(u.a)(n,[{key:"render",value:function(){return null!=f.socket&&(f.socket.close(),f.socket=null),l.a.createElement("div",null,l.a.createElement("h1",null,"space-sim",l.a.createElement("br",null),l.a.createElement("a",{href:"https://github.com/xXDerpyXx/space-sim"},l.a.createElement("img",{className:"social-icon",src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png"})),l.a.createElement("a",{href:"https://discord.gg/mU4xTzK"},l.a.createElement("img",{className:"social-icon",src:"https://discord.com/assets/41484d92c876f76b20c7f746221e8151.svg",height:"32"}))),l.a.createElement("label",null,"Direct connect:"),l.a.createElement("br",null),l.a.createElement("input",{id:"toConnect",placeholder:"IP/Address",onKeyUp:function(e){"Enter"===e.key&&Ie()}}),l.a.createElement("button",{onClick:Ie},"Connect"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",null,"Official serverlist:"),l.a.createElement("table",{id:"serverList"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Address"),l.a.createElement("th",null,"Players"),l.a.createElement("th",null,"Uptime"),l.a.createElement("th",null,"Location"))),l.a.createElement("tbody",null,this.state.servers)),l.a.createElement("br",null))}},{key:"componentDidMount",value:function(){var e,t=this,n="https:"==window.location.protocol,a=Object(i.a)(Me);try{var c=function(){var a=e.value;if(n&&!a.secure)return"continue";var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4==c.readyState&&200==c.status){var e=JSON.parse(c.responseText);t.setState((function(t){return{servers:[].concat(Object(r.a)(t.servers),[l.a.createElement("tr",{key:t.servers.length,onClick:function(){return we(a)}},l.a.createElement("td",null,e.name),l.a.createElement("td",null,a.url),l.a.createElement("td",null,e.players),l.a.createElement("td",null,e.uptime?e.uptime:null),l.a.createElement("td",null,e.location))])}}))}},c.open("GET","http".concat(a.secure?"s":"","://").concat(a.url,"/basicinfo"),!0),c.send(null)};for(a.s();!(e=a.n()).done;)c()}catch(o){a.e(o)}finally{a.f()}}}]),n}(l.a.Component);o.a.render(l.a.createElement(Be,null),f.root)}},[[122,1,2]]]);
//# sourceMappingURL=main.478e598c.chunk.js.map